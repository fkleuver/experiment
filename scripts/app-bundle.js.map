{"version":3,"sources":["src/app.ts","src/environment.ts","src/main.ts","src/framework/aurelia.ts","src/framework/dom.ts","src/framework/generated.ts","src/framework/logging.ts","src/framework/platform.ts","src/framework/task-queue.ts","src/framework/util.ts","src/framework/binding/array-change-records.ts","src/framework/binding/array-observation.ts","src/framework/binding/ast.ts","C:/Users/bigopon/Desktop/aurelia/experiment/src/framework/binding/binding-interfaces.js","src/framework/binding/binding-mode.ts","src/framework/binding/binding-type.ts","src/framework/binding/binding.ts","src/framework/binding/call-context.ts","src/framework/binding/checked-observer.ts","src/framework/binding/class-observer.ts","src/framework/binding/collection-observation.ts","src/framework/binding/connect-queue.ts","src/framework/binding/connectable-binding.ts","src/framework/binding/dirty-checking.ts","src/framework/binding/element-observation.ts","src/framework/binding/event-manager.ts","src/framework/binding/listener.ts","src/framework/binding/map-change-records.ts","src/framework/binding/map-observation.ts","src/framework/binding/observer-locator.ts","src/framework/binding/property-observation.ts","src/framework/binding/ref.ts","src/framework/binding/scope.ts","src/framework/binding/select-value-observer.ts","src/framework/binding/set-observation.ts","src/framework/binding/signals.ts","src/framework/binding/subscriber-collection.ts","src/framework/binding/svg.ts","src/framework/resources/else.ts","src/framework/resources/if-core.ts","src/framework/resources/if.ts","src/framework/templating/animator.ts","C:/Users/bigopon/Desktop/aurelia/experiment/src/framework/templating/component.js","src/framework/templating/shadow-dom.ts","src/framework/templating/template.ts","src/framework/templating/view-slot.ts","src/framework/templating/view.ts","src/framework/templating/visual.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { createOverrideContext } from './framework/binding/scope';\nimport { Scope } from './framework/binding/binding-interfaces';\nimport { Observer } from './framework/binding/property-observation';\nimport { IBinding } from './framework/binding/binding';\nimport { oneWay, twoWay, listener, oneWayText, makeElementIntoAnchor, ref } from './framework/generated';\nimport { View } from './framework/templating/view';\nimport { IComponent } from './framework/templating/component';\nimport { If } from './framework/resources/if';\nimport { ViewSlot } from './framework/templating/view-slot';\nimport { Else } from './framework/resources/else';\nimport { Visual } from './framework/templating/visual';\nimport { Template } from './framework/templating/template';\n\n// Original User Code for App\n\n// export class App {\n//   message = 'Hello World!';\n// }\n\n// <template>\n//   ${message}<br>\n//   <input type=\"text\" value.bind=\"message\">\n//   <name-tag name.bind=\"message\" component.ref=\"nameTag\"></name-tag>\n//   <input type=\"checkbox\" value.bind=\"duplicateMessage\" />\n//   <div if.bind=\"duplicateMessage\">\n//     ${message}\n//   </div>\n//   <div else>No Message Duplicated</div>\n// </template>\n\n// ------------------------------\n\n// Original User Code for NameTag\n\n// export class NameTag {\n//   name = 'Aurelia';\n// }\n\n//<template class=\"name-tag ${showHeader ? 'header-visible' : ''}\">\n// <header>Super Duper name tag</header>\n// <div>\n//   <input type=\"text\" value.bind=\"name\" ><br/>\n//   <span class=\"au\" style=\"font-weight: bold; padding: 10px 0;\">${name}</span>\n// </div>\n// <hr/>\n// <div>\n//   <label>\n//     Name tag color:\n//     <select value.bind=\"color\">\n//       <option>red</option>\n//       <option>green</option>\n//       <option>blue</option>\n//     </select>\n//   </label>\n// </div>\n// <hr/>\n// <div>\n//   <label>\n//     Name tag border color:\n//     <select value.bind=\"borderColor\">\n//       <option>orange</option>\n//       <option>black</option>\n//       <option>rgba(0,0,0,0.5)</option>\n//     </select>\n//   </label>\n// </div>\n// <hr/>\n// <div>\n//   <label>\n//     Name tag border width:\n//     <input type=\"number\" min=\"1\" step=\"1\" max=\"10\" value.bind=\"borderWidth\" />\n//   </label>\n// </div>\n// <div>\n//   <label>\n//     Show header:\n//     <input type=\"checkbox\" value.bind=\"showHeader\" />\n//   </label>\n// </div>\n// <button click.trigger=\"submit()\">Reset</button>\n//</template>\n\n// ------------------------------\n\n//Altered/Generated via a compile-time transform\nclass $App {\n  $observers: Record<string, Observer<any>>;\n\n  constructor() {\n    Object.defineProperty(this, '$observers', {\n      enumerable: false,\n      value: {\n        message: new Observer('Hello World!'),\n        duplicateMessage: new Observer(true)\n      }\n    });\n  }\n\n  get duplicateMessage() { return this.$observers.duplicateMessage.getValue(); }\n  set duplicateMessage(value: boolean) { this.$observers.duplicateMessage.setValue(value); }\n\n  get message() { return this.$observers.message.getValue(); }\n  set message(value: string) { this.$observers.message.setValue(value); }\n}\n\nclass $PlainView1 extends Visual {\n  private $b1: IBinding;\n\n  private static $template = new Template('<div><au-marker class=\"au\"></au-marker> </div>');\n\n  constructor() {\n    super($PlainView1.$template);\n    let targets = this.$view.targets;\n    this.$b1 = oneWayText('message', targets[0]);\n  }\n\n  bind(scope: Scope) {\n    super.bind(scope);\n    this.$b1.bind(scope);\n  }\n\n  unbind() {\n    super.unbind();\n    this.$b1.unbind();\n  }\n}\n\nclass $PlainView2 extends Visual {\n  private static $template = new Template('<div>No Message Duplicated</div>');\n\n  constructor() {\n    super($PlainView2.$template);\n  }\n}\n\nexport class App extends $App implements IComponent {\n  private $b1: IBinding;\n  private $b2: IBinding;\n  private $b3: IBinding;\n  private $b4: IBinding;\n  private $b5: IBinding;\n  private $b6: IBinding;\n  private $c1: IComponent;\n  private $a1: If;\n  private $a2: Else;\n\n  private $view: View;\n  private $anchor: Element;\n\n  private $scope: Scope = {\n    bindingContext: this,\n    overrideContext: createOverrideContext()\n  };\n\n  private static $template = new Template(`\n    <au-marker class=\"au\"></au-marker> <br>\n    <input type=\"text\" class=\"au\">\n    <name-tag class=\"au\"></name-tag>\n    <input type=\"checkbox\" class=\"au\" />\n    <au-marker class=\"au\"></au-marker>\n    <au-marker class=\"au\"></au-marker>\n  `);\n\n  applyTo(anchor: Element) {\n    this.$anchor = anchor;\n    this.$view = App.$template.create();\n\n    let targets = this.$view.targets;\n\n    this.$b1 = oneWayText('message', targets[0]);\n    this.$b2 = twoWay('message', targets[1], 'value');\n\n    this.$c1 = new NameTag().applyTo(targets[2]);\n    this.$b3 = twoWay('message', this.$c1, 'name');\n    this.$b6 = ref(this.$c1, 'nameTag');\n\n    this.$b4 = twoWay('duplicateMessage', targets[3], 'checked');\n\n    this.$a1 = new If(() => new $PlainView1(), new ViewSlot(makeElementIntoAnchor(targets[4]), false));\n    this.$b5 = oneWay('duplicateMessage', this.$a1, 'condition');\n\n    this.$a2 = new Else(() => new $PlainView2(), new ViewSlot(makeElementIntoAnchor(targets[5]), false)).link(this.$a1);\n\n    //this.created(); //if developer implemented this callback\n\n    return this;\n  }\n\n  //bound bubbles up the tree after binding happens\n  //property change events always fire, but in a group at the end of binding, but before bound\n\n  bind() {\n    let scope = this.$scope;\n\n    this.$b1.bind(scope);\n    this.$b2.bind(scope);\n    this.$b4.bind(scope);\n\n    this.$b3.bind(scope); //input bindings set before component bind\n    this.$b6.bind(scope);\n    this.$c1.bind();\n\n    this.$b5.bind(scope); //input bindings set before attribute bind\n    this.$a1.bind(scope);\n\n    this.$a2.bind(scope);\n\n    //this.bound(); //if developer implemented this callback\n  }\n\n  //attaching tunnels down the tree before the dom attach happens\n  //attached bubbles up the tree after the dom attach happens\n\n  attach() {\n    //this.attaching(); //if developer implemented this callback\n    this.$c1.attach();\n    this.$a1.attach();\n    this.$a2.attach();\n    this.$view.appendTo(this.$anchor); //attach children before the parent\n    //TaskQueue.instance.queueMicroTask(() => this.attached()); //queue callback if developer implemented it\n  }\n\n  detach() {\n    //this.detaching(); //if developer implemented this callback\n    this.$view.remove(); //remove parent before detaching children\n    this.$c1.detach();\n    this.$a1.detach();\n    this.$a2.detach();\n    //TaskQueue.instance.queueMicroTask(() => this.detached()); //queue callback if developer implemented it\n  }\n\n  unbind() {\n    this.$b1.unbind();\n    this.$b2.unbind();\n    this.$b3.unbind();\n    this.$b6.unbind();\n    this.$c1.unbind();\n    this.$a1.unbind();\n    this.$a2.unbind();\n    this.$b4.unbind();\n    this.$b5.unbind();\n  }\n}\n\nclass $NameTag {\n  $observers: Record<string, Observer<any>>;\n  $isBound = false;\n\n  constructor() {\n    Object.defineProperty(this, '$observers', {\n      enumerable: false,\n      value: {\n        name: new Observer('Aurelia', v => this.$isBound ? this.nameChanged(v) : void 0),\n        color: new Observer<string>('red'),\n        borderColor: new Observer('orange'),\n        borderWidth: new Observer(3),\n        showHeader: new Observer(true)\n      }\n    });\n  }\n\n  get name() { return this.$observers.name.getValue(); }\n  set name(value: string) { this.$observers.name.setValue(value); }\n\n  get color() { return this.$observers.color.getValue(); }\n  set color(value: string) { this.$observers.color.setValue(value); }\n\n  get borderColor() { return this.$observers.borderColor.getValue(); }\n  set borderColor(value: string) { this.$observers.borderColor.setValue(value); }\n\n  get borderWidth() { return this.$observers.borderWidth.getValue(); }\n  set borderWidth(value: number) { this.$observers.borderWidth.setValue(value); }\n\n  get showHeader() { return this.$observers.showHeader.getValue(); }\n  set showHeader(value: boolean) { this.$observers.showHeader.setValue(value); }\n\n  nameChanged(newValue: string) {\n    console.log(`Name changed to ${newValue}`);;\n  }\n\n  submit() {\n    // alert('It was already updated, (two way binding thingy)');\n    this.name = '' + Math.random();\n  }\n}\n\nexport class NameTag extends $NameTag implements IComponent {\n  private $b1: IBinding;\n  private $b2: IBinding;\n  private $b3: IBinding;\n  private $b4: IBinding;\n  private $b5: IBinding;\n  private $b6: IBinding;\n  private $b7: IBinding;\n  private $b8: IBinding;\n  private $b9: IBinding;\n  private $b10: IBinding;\n  private $anchor: Element;\n  private $scope: Scope = {\n    bindingContext: this,\n    overrideContext: createOverrideContext()\n  };\n\n  $view: View;\n\n  private static $template = new Template(`\n    <header>Super Duper name tag</header>\n    <div>\n      <input type=\"text\" class=\"au\"><br/>\n      <span class=\"au\" style=\"font-weight: bold; padding: 10px 0;\"></span>\n    </div>\n    <hr/>\n    <div>\n      <label>\n        Name tag color:\n        <select class=\"au\">\n          <option>red</option>\n          <option>green</option>\n          <option>blue</option>\n        </select>\n      </label>\n    </div>\n    <hr/>\n    <div>\n      <label>\n        Name tag border color:\n        <select class=\"au\">\n          <option>orange</option>\n          <option>black</option>\n          <option>rgba(0,0,0,0.5)</option>\n        </select>\n      </label>\n    </div>\n    <hr/>\n    <div>\n      <label>\n        Name tag border width:\n        <input type=\"number\" class=\"au\" min=\"1\" step=\"1\" max=\"10\" />\n      </label>\n    </div>\n    <div>\n      <label>\n        Show header:\n        <input type=\"checkbox\" class=\"au\" />\n      </label>\n    </div>\n    <button class=\"au\">Reset</button>\n  `);\n\n  applyTo(anchor: Element) {\n    this.$anchor = anchor;\n    this.$view = NameTag.$template.create();\n\n    let targets = this.$view.targets;\n\n    this.$b1 = twoWay('name', targets[0], 'value');\n    this.$b2 = oneWay('name', targets[1], 'textContent');\n    this.$b3 = oneWay('nameTagColor', (targets[1] as HTMLElement).style, 'color');\n    this.$b4 = twoWay('nameTagColor', targets[2], 'value');\n    this.$b5 = twoWay('nameTagBorderColor', targets[3], 'value');\n    this.$b6 = twoWay('nameTagBorderWidth', targets[4], 'value');\n    this.$b7 = twoWay('nameTagHeaderVisible', targets[5], 'checked');\n    this.$b8 = listener('click', targets[6], 'submit');\n    this.$b9 = oneWay('nameTagBorder', (anchor as HTMLElement).style, 'border');\n    this.$b10 = oneWay('nameTagClasses', anchor, 'className');\n\n    //this.created(); //if developer implemented this callback\n\n    return this;\n  }\n\n  bind() {\n    let $scope = this.$scope;\n\n    this.$b1.bind($scope);\n    this.$b2.bind($scope);\n    this.$b3.bind($scope);\n    this.$b4.bind($scope);\n    this.$b5.bind($scope);\n    this.$b6.bind($scope);\n    this.$b7.bind($scope);\n    this.$b8.bind($scope);\n    this.$b9.bind($scope);\n    this.$b10.bind($scope);\n\n    this.$isBound = true;\n    this.nameChanged(this.name); //all change events fire after all bindings are setup\n\n    //this.bound(); //if developer implemented this callback\n  }\n\n  attach() {\n    this.$view.appendTo(this.$anchor);\n  }\n\n  detach() {\n    this.$view.remove();\n  }\n\n  unbind() {\n    this.$b1.unbind();\n    this.$b2.unbind();\n    this.$b3.unbind();\n    this.$b4.unbind();\n    this.$b5.unbind();\n    this.$b6.unbind();\n    this.$b7.unbind();\n    this.$b8.unbind();\n    this.$b9.unbind();\n    this.$b10.unbind();\n  }\n}\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import { App } from './app';\nimport { Aurelia } from './framework/aurelia';\n\n(window as any)['aureliaApp'] = new Aurelia({\n  host: document.body,\n  component: new App()\n}).start();\n","export interface AureliaSettings {\r\n  host: HTMLElement,\r\n  component: any\r\n}\r\n\r\nexport class Aurelia {\r\n  constructor(public settings: AureliaSettings) { \r\n    this.settings.component.applyTo(this.settings.host);\r\n  }\r\n\r\n  start() {\r\n    this.settings.component.bind();\r\n    this.settings.component.attach();\r\n    return this;\r\n  }\r\n\r\n  stop() {\r\n    this.settings.component.detach();\r\n    this.settings.component.unbind();\r\n    return this;\r\n  }\r\n}\r\n","export const DOM = {\n  Element: Element,\n  SVGElement: SVGElement,\n  boundary: 'aurelia-dom-boundary',\n  addEventListener(eventName: string, callback: EventListenerOrEventListenerObject, capture?: boolean): void {\n    document.addEventListener(eventName, callback, capture);\n  },\n  removeEventListener(eventName: string, callback: EventListenerOrEventListenerObject, capture?: boolean): void {\n    document.removeEventListener(eventName, callback, capture);\n  },\n  adoptNode(node: Node) {\n    return document.adoptNode(node);\n  },\n  createAttribute(name: string): Attr {\n    return document.createAttribute(name);\n  },\n  createElement(tagName: string): Element {\n    return document.createElement(tagName);\n  },\n  createTextNode(text) {\n    return document.createTextNode(text);\n  },\n  createComment(text) {\n    return document.createComment(text);\n  },\n  createDocumentFragment(): DocumentFragment {\n    return document.createDocumentFragment();\n  },\n  createTemplateElement(): HTMLTemplateElement {\n    return document.createElement('template');\n  },\n  createMutationObserver(callback: MutationCallback): MutationObserver {\n    return new MutationObserver(callback);\n  },\n  createCustomEvent(eventType: string, options: CustomEventInit): CustomEvent {\n    return new CustomEvent(eventType, options);\n  },\n  dispatchEvent(evt): void {\n    document.dispatchEvent(evt);\n  },\n  getComputedStyle(element: Element) {\n    return window.getComputedStyle(element);\n  },\n  getElementById(id: string): Element {\n    return document.getElementById(id);\n  },\n  querySelectorAll(query: string) {\n    return document.querySelectorAll(query);\n  },\n  nextElementSibling(element: Node): Element {\n    if ('nextElementSibling' in element) {\n      return element['nextElementSibling'];\n    }\n\n    do {\n      element = element.nextSibling;\n    } while (element && element.nodeType !== 1);\n\n    return <Element>element;\n  },\n  createTemplateFromMarkup(markup: string): Element {\n    let parser = document.createElement('div');\n    parser.innerHTML = markup;\n\n    let temp = parser.firstElementChild;\n\n    if (!temp || temp.nodeName !== 'TEMPLATE') {\n      throw new Error('Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>');\n    }\n\n    return temp;\n  },\n  appendNode(newNode: Node, parentNode?: Node): void {\n    (parentNode || document.body).appendChild(newNode);\n  },\n  replaceNode(newNode: Node, node: Node, parentNode?: Node): void {\n    if (node.parentNode) {\n      node.parentNode.replaceChild(newNode, node);\n    } else {\n      parentNode.replaceChild(newNode, node);\n    }\n  },\n  removeNode(node: Node, parentNode?: Node): void {\n    if (node.parentNode) {\n      node.parentNode.removeChild(node);\n    } else if (parentNode) {\n      parentNode.removeChild(node);\n    }\n  },\n  injectStyles(styles: string, destination?: Element, prepend?: boolean, id?: string): Node {\n    if (id) {\n      let oldStyle = document.getElementById(id);\n      if (oldStyle) {\n        let isStyleTag = oldStyle.tagName.toLowerCase() === 'style';\n\n        if (isStyleTag) {\n          oldStyle.innerHTML = styles;\n          return;\n        }\n\n        throw new Error('The provided id does not indicate a style tag.');\n      }\n    }\n\n    let node = document.createElement('style');\n    node.innerHTML = styles;\n    node.type = 'text/css';\n\n    if (id) {\n      node.id = id;\n    }\n\n    destination = destination || document.head;\n\n    if (prepend && destination.childNodes.length > 0) {\n      destination.insertBefore(node, destination.childNodes[0]);\n    } else {\n      destination.appendChild(node);\n    }\n\n    return node;\n  }\n};\n","import { Observer } from './binding/property-observation';\nimport {\n  IExpression,\n  ILookupFunctions,\n  AccessScope,\n  AccessMember,\n  CallScope,\n  LiteralString,\n  Binary,\n  Conditional,\n  TemplateLiteral\n} from './binding/ast';\nimport { IBindingTarget, Binding } from './binding/binding';\nimport { Scope, IObservable, IDelegationStrategy } from './binding/binding-interfaces';\nimport { bindingMode } from './binding/binding-mode';\nimport { Listener } from './binding/listener';\nimport { delegationStrategy } from './binding/event-manager';\nimport { DOM } from './dom';\nimport { Ref } from './binding/ref';\n\nconst emptyArray: any[] = [];\n\nlet lookupFunctions: ILookupFunctions = {\n  valueConverters: {},\n  bindingBehaviors: {}\n};\n\nlet astLookup: Record<string, any> = {\n  message: new AccessScope('message'),\n  textContent: new AccessScope('textContent'),\n  value: new AccessScope('value'),\n  nameTagBorderWidth: new AccessScope('borderWidth'),\n  nameTagBorderColor: new AccessScope('borderColor'),\n  nameTagBorder: new TemplateLiteral([\n    new AccessScope('borderWidth'),\n    new LiteralString('px solid '),\n    new AccessScope('borderColor')\n  ]),\n  nameTagHeaderVisible: new AccessScope('showHeader'),\n  nameTagClasses: new TemplateLiteral([\n    new LiteralString('au name-tag '),\n    new Conditional(\n      new AccessScope('showHeader'),\n      new LiteralString('header-visible'),\n      new LiteralString('')\n    )\n  ]),\n  name: new AccessScope('name'),\n  submit: new CallScope('submit', emptyArray, 0),\n  nameTagColor: new AccessScope('color'),\n  duplicateMessage: new AccessScope('duplicateMessage'),\n  checked: new AccessScope('checked'),\n  nameTag: new AccessScope('nameTag')\n};\n\nfunction getAST(key: string) {\n  return astLookup[key];\n}\n\nexport function oneWay(sourceExpression: string, target: IBindingTarget, targetProperty: string) {\n  return new Binding(getAST(sourceExpression), target, targetProperty, bindingMode.oneWay, lookupFunctions);\n}\n\nexport function oneWayText(sourceExpression: string, target: Element) {\n  let next = target.nextSibling;\n  (next as any)['auInterpolationTarget'] = true;\n  target.parentNode.removeChild(target);\n  return oneWay(sourceExpression, next, 'textContent');\n}\n\nexport function twoWay(sourceExpression: string, target: IBindingTarget, targetProperty: string) {\n  return new Binding(getAST(sourceExpression), target, targetProperty, bindingMode.twoWay, lookupFunctions);\n}\n\nexport function listener(\n  targetEvent: string,\n  target: Element,\n  sourceExpression: string,\n  preventDefault = true,\n  strategy: IDelegationStrategy[keyof IDelegationStrategy] = delegationStrategy.none\n) {\n  return new Listener(targetEvent, strategy, getAST(sourceExpression), target, preventDefault, lookupFunctions);\n}\n\nexport function ref(target: IBindingTarget, sourceExpression: string) {\n  return new Ref(getAST(sourceExpression), target, lookupFunctions);\n}\n\nexport function makeElementIntoAnchor(element: Element, elementInstruction?: any) {\n  let anchor = DOM.createComment('anchor');\n\n  if (elementInstruction) {\n    // let firstChild = element.firstChild;\n\n    // if (firstChild && firstChild.tagName === 'AU-CONTENT') {\n    //   anchor.contentElement = firstChild;\n    // }\n\n    // anchor._element = element;\n\n    // anchor.hasAttribute = hasAttribute;\n    // anchor.getAttribute = getAttribute;\n    // anchor.setAttribute = setAttribute;\n  }\n\n  DOM.replaceNode(anchor, element);\n\n  return anchor;\n}\n","/**\r\n* Specifies the available logging levels.\r\n*/\r\ninterface LogLevel {\r\n  /**\r\n  * No logging.\r\n  */\r\n  none: number,\r\n  /**\r\n  * Log only error messages.\r\n  */\r\n  error: number,\r\n  /**\r\n  * Log warnings messages or above.\r\n  */\r\n  warn: number,\r\n  /**\r\n  * Log informational messages or above.\r\n  */\r\n  info: number,\r\n  /**\r\n  * Log all messages.\r\n  */\r\n  debug: number,\r\n\r\n  /**\r\n  * Additional log levels defined at runtime.\r\n  */\r\n  [level: string]: number\r\n}\r\n\r\n/**\r\n* Specifies the available logging levels.\r\n*/\r\nexport const logLevel: LogLevel = {\r\n  none: 0,\r\n  error: 10,\r\n  warn: 20,\r\n  info: 30,\r\n  debug: 40\r\n};\r\n\r\nlet loggers = {};\r\nlet appenders = [];\r\nlet globalDefaultLevel = logLevel.none;\r\nlet slice = Array.prototype.slice;\r\n\r\nconst standardLevels = ['none', 'error', 'warn', 'info', 'debug'];\r\n\r\nfunction isStandardLevel(level: string) {\r\n  return standardLevels.filter(l => l === level).length > 0;\r\n}\r\n\r\nfunction appendArgs() {\r\n  return [this].concat(slice.call(arguments));\r\n}\r\n\r\nfunction logFactory(level) {\r\n  const threshold = logLevel[level];\r\n  return function() {\r\n    // In this function, this === logger\r\n    if (this.level < threshold) {\r\n      return;\r\n    }\r\n    // We don't want to disable optimizations (such as inlining) in this function\r\n    // so we do the arguments manipulation in another function.\r\n    // Note that Function#apply is very special for V8.\r\n    const args = appendArgs.apply(this, arguments);\r\n    let i = appenders.length;\r\n    while (i--) {\r\n      appenders[i][level](...args);\r\n    }\r\n  };\r\n}\r\n\r\nfunction logFactoryCustom(level) {\r\n  //This function is the same as logFactory() except that it checks that the method\r\n  //is defined on the appender.\r\n  const threshold = logLevel[level];\r\n  return function() {\r\n    // In this function, this === logger\r\n    if (this.level < threshold) {\r\n      return;\r\n    }\r\n    // We don't want to disable optimizations (such as inlining) in this function\r\n    // so we do the arguments manipulation in another function.\r\n    // Note that Function#apply is very special for V8.\r\n    const args = appendArgs.apply(this, arguments);\r\n    let i = appenders.length;\r\n    while (i--) {\r\n      const appender = appenders[i];\r\n      if (appender[level] !== undefined) {\r\n        appender[level](...args);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction connectLoggers() {\r\n  let proto = Logger.prototype;\r\n  for (let level in logLevel) {\r\n    if (isStandardLevel(level)) {\r\n      if (level !== 'none') {\r\n        proto[level] = logFactory(level);\r\n      }\r\n    } else {\r\n      proto[level] = logFactoryCustom(level);\r\n    }\r\n  }\r\n}\r\n\r\nfunction disconnectLoggers() {\r\n  let proto = Logger.prototype;\r\n  for (let level in logLevel) {\r\n    if (level !== 'none') {\r\n      proto[level] = function() { };\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n* Gets the instance of a logger associated with a particular id (or creates one if it doesn't already exist).\r\n*\r\n* @param id The id of the logger you wish to get an instance of.\r\n* @return The instance of the logger, or creates a new logger if none exists for that id.\r\n*/\r\nexport function getLogger(id: string): Logger {\r\n  return loggers[id] || new Logger(id);\r\n}\r\n\r\n/**\r\n* Implemented by classes which wish to append log data to a target data store.\r\n*/\r\ninterface Appender {\r\n\r\n  /**\r\n  * Appends a debug log.\r\n  *\r\n  * @param logger The source logger.\r\n  * @param rest The data to log.\r\n  */\r\n  debug(logger: Logger, ...rest: any[]): void;\r\n\r\n  /**\r\n  * Appends an info log.\r\n  *\r\n  * @param logger The source logger.\r\n  * @param rest The data to log.\r\n  */\r\n  info(logger: Logger, ...rest: any[]): void;\r\n\r\n  /**\r\n  * Appends a warning log.\r\n  *\r\n  * @param logger The source logger.\r\n  * @param rest The data to log.\r\n  */\r\n  warn(logger: Logger, ...rest: any[]): void;\r\n\r\n  /**\r\n  * Appends an error log.\r\n  *\r\n  * @param logger The source logger.\r\n  * @param rest The data to log.\r\n  */\r\n  error(logger: Logger, ...rest: any[]): void;\r\n}\r\n\r\n/**\r\n* Adds an appender capable of processing logs and channeling them to an output.\r\n*\r\n* @param appender An appender instance to begin processing logs with.\r\n*/\r\nexport function addAppender(appender: Appender): void {\r\n  if (appenders.push(appender) === 1) {\r\n    connectLoggers();\r\n  }\r\n}\r\n\r\n/**\r\n* Removes an appender.\r\n* @param appender An appender that has been added previously.\r\n*/\r\nexport function removeAppender(appender: Appender): void {\r\n  appenders = appenders.filter(a => a !== appender);\r\n}\r\n\r\n/**\r\n * Gets an array of all appenders.\r\n */\r\nexport function getAppenders() {\r\n  return [...appenders];\r\n}\r\n\r\n/**\r\n * Removes all appenders.\r\n */\r\nexport function clearAppenders(): void {\r\n  appenders = [];\r\n  disconnectLoggers();\r\n}\r\n\r\n/**\r\n * Adds a custom log level that will be added as an additional method to Logger.\r\n * Logger will call the corresponding method on any appenders that support it.\r\n *\r\n * @param name The name for the new log level.\r\n * @param value The numeric severity value for the level (higher is more severe).\r\n */\r\nexport function addCustomLevel(name: string, value: number): void {\r\n  if (logLevel[name] !== undefined) {\r\n    throw Error(`Log level \"${name}\" already exists.`);\r\n  }\r\n\r\n  if (isNaN(value)) {\r\n    throw Error('Value must be a number.');\r\n  }\r\n\r\n  logLevel[name] = value;\r\n\r\n  if (appenders.length > 0) {\r\n    //Reinitialize the Logger prototype with the new method.\r\n    connectLoggers();\r\n  } else {\r\n    //Add the custom level as a noop by default.\r\n    Logger.prototype[name] = function() { };\r\n  }\r\n}\r\n\r\n/**\r\n * Removes a custom log level.\r\n * @param name The name of a custom log level that has been added previously.\r\n */\r\nexport function removeCustomLevel(name: string): void {\r\n  if (logLevel[name] === undefined) {\r\n    return;\r\n  }\r\n\r\n  if (isStandardLevel(name)) {\r\n    throw Error(`Built-in log level \"${name}\" cannot be removed.`);\r\n  }\r\n\r\n  delete logLevel[name];\r\n  delete Logger.prototype[name];\r\n}\r\n\r\n/**\r\n* Sets the level of logging for ALL the application loggers.\r\n*\r\n* @param level Matches a value of logLevel specifying the level of logging.\r\n*/\r\nexport function setLevel(level: number): void {\r\n  globalDefaultLevel = level;\r\n  for (let key in loggers) {\r\n    loggers[key].setLevel(level);\r\n  }\r\n}\r\n\r\n/**\r\n* Gets the level of logging of ALL the application loggers.\r\n*\r\n* @return The logLevel value used in all loggers.\r\n*/\r\nexport function getLevel(): number {\r\n  return globalDefaultLevel;\r\n}\r\n\r\n/**\r\n* A logger logs messages to a set of appenders, depending on the log level that is set.\r\n*/\r\nexport class Logger {\r\n  /**\r\n  * The id that the logger was created with.\r\n  */\r\n  id: string;\r\n\r\n  /**\r\n   * The logging severity level for this logger\r\n   */\r\n  level: number;\r\n\r\n  /**\r\n  * You cannot instantiate the logger directly - you must use the getLogger method instead.\r\n  */\r\n  constructor(id: string) {\r\n    let cached = loggers[id];\r\n    if (cached) {\r\n      return cached;\r\n    }\r\n\r\n    loggers[id] = this;\r\n    this.id = id;\r\n    this.level = globalDefaultLevel;\r\n  }\r\n\r\n  /**\r\n   * Logs a debug message.\r\n   *\r\n   * @param message The message to log.\r\n   * @param rest The data to log.\r\n   */\r\n  debug(message: string, ...rest: any[]): void {}\r\n\r\n  /**\r\n   * Logs info.\r\n   *\r\n   * @param message The message to log.\r\n   * @param rest The data to log.\r\n   */\r\n  info(message: string, ...rest: any[]): void {}\r\n\r\n  /**\r\n   * Logs a warning.\r\n   *\r\n   * @param message The message to log.\r\n   * @param rest The data to log.\r\n   */\r\n  warn(message: string, ...rest: any[]): void {}\r\n\r\n  /**\r\n   * Logs an error.\r\n   *\r\n   * @param message The message to log.\r\n   * @param rest The data to log.\r\n   */\r\n  error(message: string, ...rest: any[]): void {}\r\n\r\n  /**\r\n   * Sets the level of logging for this logger instance\r\n   *\r\n   * @param level Matches a value of logLevel specifying the level of logging.\r\n   */\r\n  setLevel(level: number): void {\r\n    this.level = level;\r\n  }\r\n}\r\n","export const PLATFORM = {\r\n  global: window,\r\n  location: window.location,\r\n  history: window.history,\r\n  addEventListener(eventName: string, callback: Function, capture: boolean): void {\r\n    this.global.addEventListener(eventName, callback, capture);\r\n  },\r\n  removeEventListener(eventName: string, callback: Function, capture: boolean): void {\r\n    this.global.removeEventListener(eventName, callback, capture);\r\n  },\r\n  performance: window.performance,\r\n  requestAnimationFrame(callback: Function): number {\r\n    return this.global.requestAnimationFrame(callback);\r\n  }\r\n};\r\n","import { DOM } from './dom';\nimport { ITaskQueue, ICallable } from './binding/binding-interfaces';\n\nlet hasSetImmediate = typeof setImmediate === 'function';\n\n//DEBUG\nconst stackSeparator = '\\nEnqueued in TaskQueue by:\\n';\nconst microStackSeparator = '\\nEnqueued in MicroTaskQueue by:\\n';\n//DEBUG-END\n\nfunction makeRequestFlushFromMutationObserver(flush: any) {\n  let toggle = 1;\n  let observer = DOM.createMutationObserver(flush);\n  let node = DOM.createTextNode('');\n  observer.observe(node, { characterData: true });\n  return function requestFlush() {\n    toggle = -toggle;\n    node.data = toggle.toString();\n  };\n}\n\nfunction makeRequestFlushFromTimer(flush: any) {\n  return function requestFlush() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    let timeoutHandle = setTimeout(handleFlushTimer, 0);\n    // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n    let intervalHandle = setInterval(handleFlushTimer, 50);\n    function handleFlushTimer() {\n      // Whichever timer succeeds will cancel both timers and request the\n      // flush.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      flush();\n    }\n  };\n}\n\nfunction onError(error: any, task: any, longStacks: any) {\n  //DEBUG\n  if (longStacks &&\n    task.stack &&\n    typeof error === 'object' &&\n    error !== null) {\n    // Note: IE sets error.stack when throwing but does not override a defined .stack.\n    error.stack = filterFlushStack(error.stack) + task.stack;\n  }\n  //DEBUG-END\n\n  if ('onError' in task) {\n    task.onError(error);\n  } else if (hasSetImmediate) {\n    setImmediate(() => { throw error; });\n  } else {\n    setTimeout(() => { throw error; }, 0);\n  }\n}\n\n/**\n* Either a Function or a class with a call method that will do work when dequeued.\n*/\nexport interface Task {\n  /**\n  * Call it.\n  */\n  call(): void;\n}\n\n/**\n* Implements an asynchronous task queue.\n*/\nexport class TaskQueue implements ITaskQueue {\n  public static instance = new TaskQueue();\n\n  /**\n   * Whether the queue is in the process of flushing.\n   */\n  flushing = false;\n\n  /**\n   * Enables long stack traces for queued tasks.\n   */\n  longStacks = false;\n\n  private microTaskQueue: ICallable[] = [];\n  private taskQueue: ICallable[] = [];\n  private microTaskQueueCapacity = 1024;\n  private requestFlushMicroTaskQueue = makeRequestFlushFromMutationObserver(() => this.flushMicroTaskQueue());\n  private requestFlushTaskQueue = makeRequestFlushFromTimer(() => this.flushTaskQueue());\n  private stack: string;\n\n  /**\n  * Immediately flushes the queue.\n  * @param queue The task queue or micro task queue\n  * @param capacity For periodically shift 1024 MicroTasks off the queue\n  */\n  private flushQueue(queue: (ICallable & { stack?: string })[], capacity: number): void {\n    let index = 0;\n    let task;\n\n    try {\n      this.flushing = true;\n      while (index < queue.length) {\n        task = queue[index];\n        if (this.longStacks) {\n          this.stack = typeof task.stack === 'string' ? task.stack : undefined;\n        }\n        task.call();\n        index++;\n\n        // Prevent leaking memory for long chains of recursive calls to `queueMicroTask`.\n        // If we call `queueMicroTask` within a MicroTask scheduled by `queueMicroTask`, the queue will\n        // grow, but to avoid an O(n) walk for every MicroTask we execute, we don't\n        // shift MicroTasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 MicroTasks off the queue.\n        if (index > capacity) {\n          // Manually shift all values starting at the index back to the\n          // beginning of the queue.\n          for (let scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n            queue[scan] = queue[scan + index];\n          }\n\n          queue.length -= index;\n          index = 0;\n        }\n      }\n    } catch (error) {\n      onError(error, task, this.longStacks);\n    } finally {\n      this.flushing = false;\n    }\n  }\n\n  /**\n  * Queues a task on the micro task queue for ASAP execution.\n  * @param task The task to queue up for ASAP execution.\n  */\n  queueMicroTask(task: (Task | Function) & { stack?: string }): void {\n    if (this.microTaskQueue.length < 1) {\n      this.requestFlushMicroTaskQueue();\n    }\n\n    //DEBUG\n    if (this.longStacks) {\n      task.stack = this.prepareQueueStack(microStackSeparator);\n    }\n    //DEBUG-END\n\n    this.microTaskQueue.push(task);\n  }\n\n  /**\n  * Queues a task on the macro task queue for turn-based execution.\n  * @param task The task to queue up for turn-based execution.\n  */\n  queueTask(task: (Task | Function) & { stack?: string }): void {\n    if (this.taskQueue.length < 1) {\n      this.requestFlushTaskQueue();\n    }\n\n    //DEBUG\n    if (this.longStacks) {\n      task.stack = this.prepareQueueStack(stackSeparator);\n    }\n    //DEBUG-END\n\n    this.taskQueue.push(task);\n  }\n\n  /**\n  * Immediately flushes the task queue.\n  */\n  flushTaskQueue(): void {\n    let queue = this.taskQueue;\n    this.taskQueue = []; //recursive calls to queueTask should be scheduled after the next cycle\n    this.flushQueue(queue, Number.MAX_VALUE);\n  }\n\n  /**\n  * Immediately flushes the micro task queue.\n  */\n  flushMicroTaskQueue(): void {\n    let queue = this.microTaskQueue;\n    this.flushQueue(queue, this.microTaskQueueCapacity);\n    queue.length = 0;\n  }\n\n  //DEBUG\n  private prepareQueueStack(separator: string) {\n    let stack = separator + filterQueueStack(captureStack());\n\n    if (typeof this.stack === 'string') {\n      stack = filterFlushStack(stack) + this.stack;\n    }\n\n    return stack;\n  }\n  //DEBUG-END\n}\n\n//DEBUG\nfunction captureStack() {\n  let error = new Error();\n\n  // Firefox, Chrome, Edge all have .stack defined by now, IE has not.\n  if (error.stack) {\n    return error.stack;\n  }\n\n  try {\n    throw error;\n  } catch (e) {\n    return e.stack;\n  }\n}\n\nfunction filterQueueStack(stack: string) {\n  // Remove everything (error message + top stack frames) up to the topmost queueTask or queueMicroTask call\n  return stack.replace(/^[\\s\\S]*?\\bqueue(Micro)?Task\\b[^\\n]*\\n/, '');\n}\n\nfunction filterFlushStack(stack: string) {\n  // Remove bottom frames starting with the last flushTaskQueue or flushMicroTaskQueue\n  let index = stack.lastIndexOf('flushMicroTaskQueue');\n\n  if (index < 0) {\n    index = stack.lastIndexOf('flushTaskQueue');\n    if (index < 0) {\n      return stack;\n    }\n  }\n\n  index = stack.lastIndexOf('\\n', index);\n\n  return index < 0 ? stack : stack.substr(0, index);\n  // The following would work but without regex support to match from end of string,\n  // it's hard to ensure we have the last occurrence of \"flushTaskQueue\".\n  // return stack.replace(/\\n[^\\n]*?\\bflush(Micro)?TaskQueue\\b[\\s\\S]*$/, \"\");\n}\n//DEBUG-END\n","//https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Whitespace_in_the_DOM\r\n//We need to ignore whitespace so we don't mess up fallback rendering\r\n//However, we cannot ignore empty text nodes that container interpolations.\r\nexport function _isAllWhitespace(node) {\r\n  // Use ECMA-262 Edition 3 String and RegExp features\r\n  return !(node.auInterpolationTarget || (/[^\\t\\n\\r ]/.test(node.textContent)));\r\n}\r\n","function isIndex(s: any): s is number {\n  return +s === s >>> 0;\n}\n\nfunction toNumber(s: any): number {\n  return +s;\n}\n\nfunction newSplice(index: number, removed: any, addedCount: any) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n\nfunction ArraySplice() { }\n\nArraySplice.prototype = {\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances: function(current: any, currentStart: any, currentEnd: any, old: any, oldStart: any, oldEnd: any) {\n    // \"Deletion\" columns\n    let rowCount = oldEnd - oldStart + 1;\n    let columnCount = currentEnd - currentStart + 1;\n    let distances = new Array(rowCount);\n    let north;\n    let west;\n\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; ++i) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (let j = 0; j < columnCount; ++j) {\n      distances[0][j] = j;\n    }\n\n    for (let i = 1; i < rowCount; ++i) {\n      for (let j = 1; j < columnCount; ++j) {\n        if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1])) {\n          distances[i][j] = distances[i - 1][j - 1];\n        } else {\n          north = distances[i - 1][j] + 1;\n          west = distances[i][j - 1] + 1;\n          distances[i][j] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances: function(distances: any) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    let edits = [];\n    while (i > 0 || j > 0) {\n      if (i === 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j === 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      let northWest = distances[i - 1][j - 1];\n      let west = distances[i - 1][j];\n      let north = distances[i][j - 1];\n\n      let min;\n      if (west < north) {\n        min = west < northWest ? west : northWest;\n      } else {\n        min = north < northWest ? north : northWest;\n      }\n\n      if (min === northWest) {\n        if (northWest === current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min === west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices: function(current: any, currentStart: any, currentEnd: any, old: any, oldStart: any, oldEnd: any) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n\n    let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart === 0 && oldStart === 0) {\n      prefixCount = this.sharedPrefix(current, old, minLength);\n    }\n\n    if (currentEnd === current.length && oldEnd === old.length) {\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n    }\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if ((currentEnd - currentStart) === 0 && (oldEnd - oldStart) === 0) {\n      return [];\n    }\n\n    if (currentStart === currentEnd) {\n      let splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd) {\n        splice.removed.push(old[oldStart++]);\n      }\n\n      return [splice];\n    } else if (oldStart === oldEnd) {\n      return [newSplice(currentStart, [], currentEnd - currentStart)];\n    }\n\n    let ops = this.spliceOperationsFromEditDistances(\n      this.calcEditDistances(current, currentStart, currentEnd,\n        old, oldStart, oldEnd));\n\n    let splice = undefined;\n    let splices = [];\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; ++i) {\n      switch (ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice) {\n            splice = newSplice(index, [], 0);\n          }\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice) {\n            splice = newSplice(index, [], 0);\n          }\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice) {\n            splice = newSplice(index, [], 0);\n          }\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        // no default\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix: function(current: any, old: any, searchLength: any) {\n    for (let i = 0; i < searchLength; ++i) {\n      if (!this.equals(current[i], old[i])) {\n        return i;\n      }\n    }\n\n    return searchLength;\n  },\n\n  sharedSuffix: function(current: any, old: any, searchLength: any) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2])) {\n      count++;\n    }\n\n    return count;\n  },\n\n  calculateSplices: function(current: any, previous: any) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n      previous.length);\n  },\n\n  equals: function(currentValue: any, previousValue: any) {\n    return currentValue === previousValue;\n  }\n};\n\nlet arraySplice = new ArraySplice();\n\nexport function calcSplices(current: any, currentStart: any, currentEnd: any, old: any, oldStart: any, oldEnd: any) {\n  return arraySplice.calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd);\n}\n\nfunction intersect(start1: any, end1: any, start2: any, end2: any) {\n  // Disjoint\n  if (end1 < start2 || end2 < start1) {\n    return -1;\n  }\n\n  // Adjacent\n  if (end1 === start2 || end2 === start1) {\n    return 0;\n  }\n\n  // Non-zero intersect, span1 first\n  if (start1 < start2) {\n    if (end1 < end2) {\n      return end1 - start2; // Overlap\n    }\n\n    return end2 - start2; // Contained\n  }\n\n  // Non-zero intersect, span2 first\n  if (end2 < end1) {\n    return end2 - start1; // Overlap\n  }\n\n  return end1 - start1; // Contained\n}\n\nexport function mergeSplice(splices: any, index: any, removed: any, addedCount: any) {\n  let splice = newSplice(index, removed, addedCount);\n\n  let inserted = false;\n  let insertionOffset = 0;\n\n  for (let i = 0; i < splices.length; i++) {\n    let current = splices[i];\n    current.index += insertionOffset;\n\n    if (inserted) {\n      continue;\n    }\n\n    let intersectCount = intersect(splice.index,\n      splice.index + splice.removed.length,\n      current.index,\n      current.index + current.addedCount);\n\n    if (intersectCount >= 0) {\n      // Merge the two splices\n\n      splices.splice(i, 1);\n      i--;\n\n      insertionOffset -= current.addedCount - current.removed.length;\n\n      splice.addedCount += current.addedCount - intersectCount;\n      let deleteCount = splice.removed.length +\n        current.removed.length - intersectCount;\n\n      if (!splice.addedCount && !deleteCount) {\n        // merged splice is a noop. discard.\n        inserted = true;\n      } else {\n        let currentRemoved = current.removed;\n\n        if (splice.index < current.index) {\n          // some prefix of splice.removed is prepended to current.removed.\n          let prepend = splice.removed.slice(0, current.index - splice.index);\n          Array.prototype.push.apply(prepend, currentRemoved);\n          currentRemoved = prepend;\n        }\n\n        if (splice.index + splice.removed.length > current.index + current.addedCount) {\n          // some suffix of splice.removed is appended to current.removed.\n          let append = splice.removed.slice(current.index + current.addedCount - splice.index);\n          Array.prototype.push.apply(currentRemoved, append);\n        }\n\n        splice.removed = currentRemoved;\n        if (current.index < splice.index) {\n          splice.index = current.index;\n        }\n      }\n    } else if (splice.index < current.index) {\n      // Insert splice here.\n\n      inserted = true;\n\n      splices.splice(i, 0, splice);\n      i++;\n\n      let offset = splice.addedCount - splice.removed.length;\n      current.index += offset;\n      insertionOffset += offset;\n    }\n  }\n\n  if (!inserted) {\n    splices.push(splice);\n  }\n}\n\nfunction createInitialSplices(array, changeRecords) {\n  let splices = [];\n\n  for (let i = 0; i < changeRecords.length; i++) {\n    let record = changeRecords[i];\n    switch (record.type) {\n      case 'splice':\n        mergeSplice(splices, record.index, record.removed.slice(), record.addedCount);\n        break;\n      case 'add':\n      case 'update':\n      case 'delete':\n        if (!isIndex(record.name)) {\n          continue;\n        }\n\n        let index = toNumber(record.name);\n        if (index < 0) {\n          continue;\n        }\n\n        mergeSplice(splices, index, [record.oldValue], record.type === 'delete' ? 0 : 1);\n        break;\n      default:\n        console.error('Unexpected record type: ' + JSON.stringify(record)); // eslint-disable-line no-console\n        break;\n    }\n  }\n\n  return splices;\n}\n\nexport function projectArraySplices(array, changeRecords) {\n  let splices = [];\n\n  createInitialSplices(array, changeRecords).forEach(function(splice) {\n    if (splice.addedCount === 1 && splice.removed.length === 1) {\n      if (splice.removed[0] !== array[splice.index]) {\n        splices.push(splice);\n      }\n\n      return;\n    }\n\n    splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount,\n      splice.removed, 0, splice.removed.length));\n  });\n\n  return splices;\n}\n","/* eslint-disable no-extend-native */\nimport { ModifyCollectionObserver } from './collection-observation';\nimport { ITaskQueue } from './binding-interfaces';\n\nlet pop = Array.prototype.pop;\nlet push = Array.prototype.push;\nlet reverse = Array.prototype.reverse;\nlet shift = Array.prototype.shift;\nlet sort = Array.prototype.sort;\nlet splice = Array.prototype.splice;\nlet unshift = Array.prototype.unshift;\n\nArray.prototype.pop = function() {\n  let notEmpty = this.length > 0;\n  let methodCallResult = pop.apply(this, arguments);\n  if (notEmpty && this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'delete',\n      object: this,\n      name: this.length,\n      oldValue: methodCallResult\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.push = function() {\n  let methodCallResult = push.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'splice',\n      object: this,\n      index: this.length - arguments.length,\n      removed: [],\n      addedCount: arguments.length\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.reverse = function() {\n  let oldArray;\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.flushChangeRecords();\n    oldArray = this.slice();\n  }\n  let methodCallResult = reverse.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.reset(oldArray);\n  }\n  return methodCallResult;\n};\n\nArray.prototype.shift = function() {\n  let notEmpty = this.length > 0;\n  let methodCallResult = shift.apply(this, arguments);\n  if (notEmpty && this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'delete',\n      object: this,\n      name: 0,\n      oldValue: methodCallResult\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.sort = function() {\n  let oldArray;\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.flushChangeRecords();\n    oldArray = this.slice();\n  }\n  let methodCallResult = sort.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.reset(oldArray);\n  }\n  return methodCallResult;\n};\n\nArray.prototype.splice = function() {\n  let methodCallResult = splice.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'splice',\n      object: this,\n      index: +arguments[0],\n      removed: methodCallResult,\n      addedCount: arguments.length > 2 ? arguments.length - 2 : 0\n    });\n  }\n  return methodCallResult;\n};\n\nArray.prototype.unshift = function() {\n  let methodCallResult = unshift.apply(this, arguments);\n  if (this.__array_observer__ !== undefined) {\n    this.__array_observer__.addChangeRecord({\n      type: 'splice',\n      object: this,\n      index: 0,\n      removed: [],\n      addedCount: arguments.length\n    });\n  }\n  return methodCallResult;\n};\n\nexport function getArrayObserver(taskQueue: ITaskQueue, array: any[]) {\n  return ModifyArrayObserver.for(taskQueue, array);\n}\n\nclass ModifyArrayObserver extends ModifyCollectionObserver {\n  constructor(taskQueue: ITaskQueue, array: any[]) {\n    super(taskQueue, array);\n  }\n\n  /**\n   * Searches for observer or creates a new one associated with given array instance\n   * @param taskQueue\n   * @param array instance for which observer is searched\n   * @returns ModifyArrayObserver always the same instance for any given array instance\n   */\n  static for(taskQueue: ITaskQueue, array: any[] & { __array_observer__?: ModifyArrayObserver }) {\n    if (!('__array_observer__' in array)) {\n      Reflect.defineProperty(array, '__array_observer__', {\n        value: ModifyArrayObserver.create(taskQueue, array),\n        enumerable: false, configurable: false\n      });\n    }\n    return array.__array_observer__;\n  }\n\n  static create(taskQueue: ITaskQueue, array: any[]) {\n    return new ModifyArrayObserver(taskQueue, array);\n  }\n}\n","import { getContextFor } from './scope';\nimport { connectBindingToSignal } from './signals';\nimport { IBinding } from './binding';\nimport { Scope } from './binding-interfaces';\n\ninterface AstKind {\n  Base: 1;\n  Chain: 2;\n  ValueConverter: 3;\n  BindingBehavior: 4;\n  Assign: 5;\n  Conditional: 6;\n  AccessThis: 7;\n  AccessScope: 8;\n  AccessMember: 9;\n  AccessKeyed: 10;\n  CallScope: 11;\n  CallFunction: 12;\n  CallMember: 13;\n  PrefixNot: 14;\n  Binary: 15;\n  LiteralPrimitive: 16;\n  LiteralArray: 17;\n  LiteralObject: 18;\n  LiteralString: 19;\n  TemplateLiteral: 20;\n}\n\nexport const AstKind: AstKind = {\n  Base: 1,\n  Chain: 2,\n  ValueConverter: 3,\n  BindingBehavior: 4,\n  Assign: 5,\n  Conditional: 6,\n  AccessThis: 7,\n  AccessScope: 8,\n  AccessMember: 9,\n  AccessKeyed: 10,\n  CallScope: 11,\n  CallFunction: 12,\n  CallMember: 13,\n  PrefixNot: 14,\n  Binary: 15,\n  LiteralPrimitive: 16,\n  LiteralArray: 17,\n  LiteralObject: 18,\n  LiteralString: 19,\n  TemplateLiteral: 20,\n};\n\nexport interface IExpression {\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions | null, mustEvaluateIfFunction?: boolean): any;\n  assign?(scope: Scope, value: any, lookupFunctions: ILookupFunctions | null): any;\n  connect(binding: IBinding, scope: Scope): any;\n  bind?(binding: IBinding, scope: Scope): void;\n  unbind?(binding: IBinding, scope: Scope): void;\n}\n\nexport interface ILookupFunctions {\n  valueConverters: Record<string, any>;\n  bindingBehaviors: Record<string, any>;\n}\n\nexport class Chain implements IExpression {\n  constructor(private expressions: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let result;\n    let expressions = this.expressions;\n    let last;\n\n    for (let i = 0, length = expressions.length; i < length; ++i) {\n      last = expressions[i].evaluate(scope, lookupFunctions);\n\n      if (last !== null) {\n        result = last;\n      }\n    }\n\n    return result;\n  }\n\n  connect() { }\n}\n\nexport class BindingBehavior implements IExpression {\n  constructor(private expression: IExpression, private name: string, private args: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    return this.expression.evaluate(scope, lookupFunctions);\n  }\n\n  assign(scope: Scope, value: any, lookupFunctions: ILookupFunctions) {\n    return this.expression.assign(scope, value, lookupFunctions);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.expression.connect(binding, scope);\n  }\n\n  bind(binding: IBinding, scope: Scope) {\n    if ((this.expression as any)['expression'] && this.expression.bind) {\n      this.expression.bind(binding, scope);\n    }\n\n    let behavior = binding.lookupFunctions.bindingBehaviors[this.name];\n    if (!behavior) {\n      throw new Error(`No BindingBehavior named \"${this.name}\" was found!`);\n    }\n\n    let behaviorKey = `behavior-${this.name}`;\n    if ((binding as any)[behaviorKey]) {\n      throw new Error(`A binding behavior named \"${this.name}\" has already been applied to \"${this.expression}\"`);\n    }\n\n    (binding as any)[behaviorKey] = behavior;\n    behavior.bind.apply(behavior, [binding, scope].concat(evalList(scope, this.args, binding.lookupFunctions)));\n  }\n\n  unbind(binding: IBinding, scope: Scope) {\n    let behaviorKey = `behavior-${this.name}`;\n\n    (binding as any)[behaviorKey].unbind(binding, scope);\n    (binding as any)[behaviorKey] = null;\n\n    if ((this.expression as any)['expression'] && this.expression.unbind) {\n      this.expression.unbind(binding, scope);\n    }\n  }\n}\n\nexport class ValueConverter implements IExpression {\n  constructor(private expression: IExpression, private name: string, private args: IExpression[], private allArgs: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let converter = lookupFunctions.valueConverters[this.name];\n    if (!converter) {\n      throw new Error(`No ValueConverter named \"${this.name}\" was found!`);\n    }\n\n    if ('toView' in converter) {\n      return converter.toView.apply(converter, evalList(scope, this.allArgs, lookupFunctions));\n    }\n\n    return this.allArgs[0].evaluate(scope, lookupFunctions);\n  }\n\n  assign(scope: Scope, value: any, lookupFunctions: ILookupFunctions) {\n    let converter = lookupFunctions.valueConverters[this.name];\n    if (!converter) {\n      throw new Error(`No ValueConverter named \"${this.name}\" was found!`);\n    }\n\n    if ('fromView' in converter) {\n      value = converter.fromView.apply(converter, [value].concat(evalList(scope, this.args, lookupFunctions)));\n    }\n\n    return this.allArgs[0].assign(scope, value, lookupFunctions);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    let expressions = this.allArgs;\n    let i = expressions.length;\n    while (i--) {\n      expressions[i].connect(binding, scope);\n    }\n    let converter = binding.lookupFunctions.valueConverters[this.name];\n    if (!converter) {\n      throw new Error(`No ValueConverter named \"${this.name}\" was found!`);\n    }\n    let signals = converter.signals;\n    if (signals === undefined) {\n      return;\n    }\n    i = signals.length;\n    while (i--) {\n      connectBindingToSignal((binding as any), signals[i]);\n    }\n  }\n}\n\nexport class Assign implements IExpression {\n  constructor(private target: IExpression, private value: IExpression) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions): any {\n    return this.target.assign(scope, this.value.evaluate(scope, lookupFunctions), lookupFunctions);\n  }\n\n  connect() { }\n\n  assign(scope: Scope, value: any, lookupFunctions: ILookupFunctions) {\n    this.value.assign(scope, value, lookupFunctions);\n    this.target.assign(scope, value, lookupFunctions);\n  }\n}\n\nexport class Conditional implements IExpression {\n  constructor(private condition: IExpression, private yes: IExpression, private no: IExpression) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    return (!!this.condition.evaluate(scope, lookupFunctions))\n      ? this.yes.evaluate(scope, lookupFunctions)\n      : this.no.evaluate(scope, lookupFunctions);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.condition.connect(binding, scope);\n    if (this.condition.evaluate(scope, null)) {\n      this.yes.connect(binding, scope);\n    } else {\n      this.no.connect(binding, scope);\n    }\n  }\n}\n\nexport class AccessThis implements IExpression {\n  constructor(private ancestor: number = 0) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let oc = scope.overrideContext;\n    let i = this.ancestor;\n\n    while (i-- && oc) {\n      oc = oc.parentOverrideContext;\n    }\n\n    return i < 1 && oc ? oc.bindingContext : undefined;\n  }\n\n  connect() { }\n}\n\nexport class AccessScope implements IExpression {\n  constructor(private name: string, private ancestor: number = 0) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let context = getContextFor(this.name, scope, this.ancestor);\n    return context[this.name];\n  }\n\n  assign(scope: Scope, value: any) {\n    let context = getContextFor(this.name, scope, this.ancestor);\n    return context ? (context[this.name] = value) : undefined;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    let context = getContextFor(this.name, scope, this.ancestor);\n    binding.observeProperty(context, this.name);\n  }\n}\n\nexport class AccessMember implements IExpression {\n  constructor(private object: IExpression, private name: string) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let instance = this.object.evaluate(scope, lookupFunctions);\n    return instance === null || instance === undefined ? instance : instance[this.name];\n  }\n\n  assign(scope: Scope, value: any, lookupFunctions: ILookupFunctions) {\n    let instance = this.object.evaluate(scope, lookupFunctions);\n\n    if (instance === null || instance === undefined) {\n      instance = {};\n      this.object.assign(scope, instance, lookupFunctions);\n    }\n\n    instance[this.name] = value;\n    return value;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.object.connect(binding, scope);\n\n    let obj = this.object.evaluate(scope, null);\n    if (obj) {\n      binding.observeProperty(obj, this.name);\n    }\n  }\n}\n\nexport class AccessKeyed implements IExpression {\n  constructor(private object: IExpression, private key: IExpression) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let instance = this.object.evaluate(scope, lookupFunctions);\n    let lookup = this.key.evaluate(scope, lookupFunctions);\n    return getKeyed(instance, lookup);\n  }\n\n  assign(scope: Scope, value: any, lookupFunctions: ILookupFunctions | null) {\n    let instance = this.object.evaluate(scope, lookupFunctions);\n    let lookup = this.key.evaluate(scope, lookupFunctions);\n    return setKeyed(instance, lookup, value);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.object.connect(binding, scope);\n    let obj = this.object.evaluate(scope, null);\n    if (obj instanceof Object) {\n      this.key.connect(binding, scope);\n      let key = this.key.evaluate(scope, null);\n      // observe the property represented by the key as long as it's not an array\n      // being accessed by an integer key which would require dirty-checking.\n      if (key !== null && key !== undefined\n        && !(Array.isArray(obj) && typeof (key) === 'number')) {\n        binding.observeProperty(obj, key);\n      }\n    }\n  }\n}\n\nexport class CallScope implements IExpression {\n  constructor(private name: string, private args: IExpression[], private ancestor: number) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions | null, mustEvaluate?: boolean) {\n    let args = evalList(scope, this.args, lookupFunctions);\n    let context = getContextFor(this.name, scope, this.ancestor);\n    let func = getFunction(context, this.name, mustEvaluate);\n    if (func) {\n      return func.apply(context, args);\n    }\n    return undefined;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    let args = this.args;\n    let i = args.length;\n    while (i--) {\n      args[i].connect(binding, scope);\n    }\n    // todo: consider adding `binding.observeProperty(scope, this.name);`\n  }\n}\n\nexport class CallMember implements IExpression {\n  constructor(private object: IExpression, private name: string, private args: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions, mustEvaluate: boolean) {\n    let instance = this.object.evaluate(scope, lookupFunctions);\n    let args = evalList(scope, this.args, lookupFunctions);\n    let func = getFunction(instance, this.name, mustEvaluate);\n    if (func) {\n      return func.apply(instance, args);\n    }\n    return undefined;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.object.connect(binding, scope);\n    let obj = this.object.evaluate(scope, null);\n    if (getFunction(obj, this.name, false)) {\n      let args = this.args;\n      let i = args.length;\n      while (i--) {\n        args[i].connect(binding, scope);\n      }\n    }\n  }\n}\n\nexport class CallFunction implements IExpression {\n  constructor(private func: IExpression, private args: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions, mustEvaluate: boolean) {\n    let func = this.func.evaluate(scope, lookupFunctions);\n    if (typeof func === 'function') {\n      return func.apply(null, evalList(scope, this.args, lookupFunctions));\n    }\n    if (!mustEvaluate && (func === null || func === undefined)) {\n      return undefined;\n    }\n    throw new Error(`${this.func} is not a function`);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.func.connect(binding, scope);\n    let func = this.func.evaluate(scope, null);\n    if (typeof func === 'function') {\n      let args = this.args;\n      let i = args.length;\n      while (i--) {\n        args[i].connect(binding, scope);\n      }\n    }\n  }\n}\n\nexport class Binary implements IExpression {\n  constructor(private operation: string, private left: IExpression, private right: IExpression) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let left = this.left.evaluate(scope, lookupFunctions);\n\n    switch (this.operation) {\n      case '&&': return left && this.right.evaluate(scope, lookupFunctions);\n      case '||': return left || this.right.evaluate(scope, lookupFunctions);\n      // no default\n    }\n\n    let right = this.right.evaluate(scope, lookupFunctions);\n\n    switch (this.operation) {\n      case '==': return left == right; // eslint-disable-line eqeqeq\n      case '===': return left === right;\n      case '!=': return left != right; // eslint-disable-line eqeqeq\n      case '!==': return left !== right;\n      // no default\n    }\n\n    // Null check for the operations.\n    if (left === null || right === null || left === undefined || right === undefined) {\n      switch (this.operation) {\n        case '+':\n          if (left !== null && left !== undefined) return left;\n          if (right !== null && right !== undefined) return right;\n          return 0;\n        case '-':\n          if (left !== null && left !== undefined) return left;\n          if (right !== null && right !== undefined) return 0 - right;\n          return 0;\n        // no default\n      }\n\n      return null;\n    }\n\n    switch (this.operation) {\n      case '+': return autoConvertAdd(left, right);\n      case '-': return left - right;\n      case '*': return left * right;\n      case '/': return left / right;\n      case '%': return left % right;\n      case '<': return left < right;\n      case '>': return left > right;\n      case '<=': return left <= right;\n      case '>=': return left >= right;\n      case '^': return left ^ right;\n      // no default\n    }\n\n    throw new Error(`Internal error [${this.operation}] not handled`);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.left.connect(binding, scope);\n    let left = this.left.evaluate(scope, null);\n    if (this.operation === '&&' && !left || this.operation === '||' && left) {\n      return;\n    }\n    this.right.connect(binding, scope);\n  }\n}\n\nexport class PrefixNot implements IExpression {\n  constructor(private operation: string, private expression: IExpression) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    return !this.expression.evaluate(scope, lookupFunctions);\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    this.expression.connect(binding, scope);\n  }\n}\n\nexport class LiteralPrimitive implements IExpression {\n  constructor(private value: any) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    return this.value;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n  }\n}\n\nexport class LiteralString implements IExpression {\n  constructor(private value: string) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    return this.value;\n  }\n\n  connect(binding: IBinding, scope: Scope) { }\n}\n\nexport class TemplateLiteral implements IExpression {\n  constructor(private parts: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let elements = this.parts;\n    let result = '';\n\n    for (let i = 0, length = elements.length; i < length; ++i) {\n      let value = elements[i].evaluate(scope, lookupFunctions);\n      if (value === undefined || value === null) {\n        continue;\n      }\n      result += value;\n    }\n\n    return result;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    let length = this.parts.length;\n    for (let i = 0; i < length; i++) {\n      this.parts[i].connect(binding, scope);\n    }\n  }\n}\n\nexport class LiteralArray implements IExpression {\n  constructor(private elements: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let elements = this.elements;\n    let result = [];\n\n    for (let i = 0, length = elements.length; i < length; ++i) {\n      result[i] = elements[i].evaluate(scope, lookupFunctions);\n    }\n\n    return result;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    let length = this.elements.length;\n    for (let i = 0; i < length; i++) {\n      this.elements[i].connect(binding, scope);\n    }\n  }\n}\n\nexport class LiteralObject implements IExpression {\n  constructor(private keys: string[], private values: IExpression[]) { }\n\n  evaluate(scope: Scope, lookupFunctions: ILookupFunctions) {\n    let instance: Record<string, any> = {};\n    let keys = this.keys;\n    let values = this.values;\n\n    for (let i = 0, length = keys.length; i < length; ++i) {\n      instance[keys[i]] = values[i].evaluate(scope, lookupFunctions);\n    }\n\n    return instance;\n  }\n\n  connect(binding: IBinding, scope: Scope) {\n    let length = this.keys.length;\n    for (let i = 0; i < length; i++) {\n      this.values[i].connect(binding, scope);\n    }\n  }\n}\n\n/// Evaluate the [list] in context of the [scope].\nfunction evalList(scope: Scope, list: IExpression[], lookupFunctions: ILookupFunctions) {\n  const length = list.length;\n  const result = [];\n\n  for (let i = 0; i < length; i++) {\n    result[i] = list[i].evaluate(scope, lookupFunctions);\n  }\n\n  return result;\n}\n\n/// Add the two arguments with automatic type conversion.\nfunction autoConvertAdd(a: any, b: any) {\n  if (a !== null && b !== null) {\n    // TODO(deboer): Support others.\n    if (typeof a === 'string' && typeof b !== 'string') {\n      return a + b.toString();\n    }\n\n    if (typeof a !== 'string' && typeof b === 'string') {\n      return a.toString() + b;\n    }\n\n    return a + b;\n  }\n\n  if (a !== null) {\n    return a;\n  }\n\n  if (b !== null) {\n    return b;\n  }\n\n  return 0;\n}\n\nfunction getFunction(obj: any, name: string, mustExist: boolean) {\n  let func = obj === null || obj === undefined ? null : obj[name];\n\n  if (typeof func === 'function') {\n    return func;\n  }\n\n  if (!mustExist && (func === null || func === undefined)) {\n    return null;\n  }\n\n  throw new Error(`${name} is not a function`);\n}\n\nfunction getKeyed(obj: any, key: any) {\n  if (Array.isArray(obj)) {\n    return obj[parseInt(key, 10)];\n  } else if (obj) {\n    return obj[key];\n  } else if (obj === null || obj === undefined) {\n    return undefined;\n  }\n\n  return obj[key];\n}\n\nfunction setKeyed(obj: any, key: any, value: any) {\n  if (Array.isArray(obj)) {\n    let index = parseInt(key, 10);\n\n    if (obj.length <= index) {\n      obj.length = index + 1;\n    }\n\n    obj[index] = value;\n  } else {\n    obj[key] = value;\n  }\n\n  return value;\n}\n",null,"interface IBindingMode {\n  oneTime: 0;\n  toView: 1;\n  oneWay: 1;\n  twoWay: 2;\n  fromView: 3;\n}\n\nexport const bindingMode: IBindingMode = {\n  oneTime: 0,\n  toView: 1,\n  oneWay: 1,\n  twoWay: 2,\n  fromView: 3\n};\n","interface IBindingType {\n  binding: 1;\n  listener: 2;\n  ref: 3;\n  text: 4;\n}\nexport const bindingType = {\n  binding: 1,\n  listener: 2,\n  ref: 3,\n  text: 4,\n};\n","import { bindingMode } from './binding-mode';\nimport { ConnectableBinding } from './connectable-binding';\nimport { enqueueBindingConnect } from './connect-queue';\nimport { sourceContext, targetContext } from './call-context';\nimport { ObserverLocator } from './observer-locator';\nimport { IExpression, ILookupFunctions } from './ast';\nimport { Observer } from './property-observation';\nimport { Scope, IBindScope, IBindingTargetObserver, IBindingTargetAccessor, IObserverLocator } from './binding-interfaces';\n\nexport interface IBinding extends IBindScope {\n  lookupFunctions: ILookupFunctions;\n  observeProperty(context: any, name: string): void;\n}\n\nexport type IBindingTarget = any; // Node | CSSStyleDeclaration | IObservable;\n\nexport class Binding extends ConnectableBinding implements IBinding {\n  private targetObserver: IBindingTargetObserver | IBindingTargetAccessor;\n  private source: Scope;\n  private isBound = false;\n\n  constructor(\n    private sourceExpression: IExpression,\n    private target: IBindingTarget,\n    private targetProperty: string,\n    private mode: number,\n    public lookupFunctions: ILookupFunctions,\n    observerLocator: IObserverLocator = ObserverLocator.instance) {\n    super(observerLocator);\n  }\n\n  updateTarget(value: any) {\n    this.targetObserver.setValue(value, this.target, this.targetProperty);\n  }\n\n  updateSource(value: any) {\n    this.sourceExpression.assign(this.source, value, this.lookupFunctions);\n  }\n\n  call(context: string, newValue: any, oldValue: any) {\n    if (!this.isBound) {\n      return;\n    }\n\n    if (context === sourceContext) {\n      oldValue = this.targetObserver.getValue(this.target, this.targetProperty);\n      newValue = this.sourceExpression.evaluate(this.source, this.lookupFunctions);\n\n      if (newValue !== oldValue) {\n        this.updateTarget(newValue);\n      }\n\n      if (this.mode !== bindingMode.oneTime) {\n        this.version++;\n        this.sourceExpression.connect(this, this.source);\n        this.unobserve(false);\n      }\n\n      return;\n    }\n\n    if (context === targetContext) {\n      if (newValue !== this.sourceExpression.evaluate(this.source, this.lookupFunctions)) {\n        this.updateSource(newValue);\n      }\n\n      return;\n    }\n\n    throw new Error(`Unexpected call context ${context}`);\n  }\n\n  bind(source: Scope) {\n    if (this.isBound) {\n      if (this.source === source) {\n        return;\n      }\n\n      this.unbind();\n    }\n\n    this.isBound = true;\n    this.source = source;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, source);\n    }\n\n    let mode = this.mode;\n\n    if (!this.targetObserver) {\n      let method: 'getObserver' | 'getAccessor' = mode === bindingMode.twoWay || mode === bindingMode.fromView ? 'getObserver' : 'getAccessor';\n      this.targetObserver = this.observerLocator[method](this.target, this.targetProperty);\n    }\n\n    if ('bind' in this.targetObserver) {\n      this.targetObserver.bind();\n    }\n\n    if (this.mode !== bindingMode.fromView) {\n      let value = this.sourceExpression.evaluate(source, this.lookupFunctions);\n      this.updateTarget(value);\n    }\n\n    if (mode === bindingMode.oneTime) {\n      return;\n    } else if (mode === bindingMode.toView) {\n      enqueueBindingConnect(this);\n    } else if (mode === bindingMode.twoWay) {\n      this.sourceExpression.connect(this, source);\n      (this.targetObserver as IBindingTargetObserver).subscribe(targetContext, this);\n    } else if (mode === bindingMode.fromView) {\n      (this.targetObserver as IBindingTargetObserver).subscribe(targetContext, this);\n    }\n  }\n\n  unbind() {\n    if (!this.isBound) {\n      return;\n    }\n\n    this.isBound = false;\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.source);\n    }\n\n    this.source = null;\n\n    if ('unbind' in this.targetObserver) {\n      (this.targetObserver as IBindingTargetObserver).unbind();\n    }\n\n    if ('unsubscribe' in this.targetObserver) {\n      this.targetObserver.unsubscribe(targetContext, this);\n    }\n\n    this.unobserve(true);\n  }\n\n  connect(evaluate?: boolean) {\n    if (!this.isBound) {\n      return;\n    }\n\n    if (evaluate) {\n      let value = this.sourceExpression.evaluate(this.source, this.lookupFunctions);\n      this.updateTarget(value);\n    }\n\n    this.sourceExpression.connect(this, this.source);\n  }\n}\n\nexport class TextBinding extends Binding {\n\n  constructor(\n    sourceExpression: IExpression,\n    target: IBindingTarget,\n    lookupFunctions: ILookupFunctions,\n    observerLocator: ObserverLocator = ObserverLocator.instance\n  ) {\n    super(sourceExpression, target.nextSibling, 'textContent', bindingMode.oneWay, lookupFunctions);\n    let next = target.nextSibling;\n    next['auInterpolationTarget'] = true;\n    target.parentNode.removeChild(target);\n  }\n}\n\n// class NameBinding {\n//   constructor(\n//     public ast: IExpression,\n//     public target: IBindingTarget,\n//     public lookupFunctions: ILookupFunctions\n//   ) {\n//     super();\n//   }\n\n//   bind(source) {\n//     if (this.isBound) {\n//       if (this.source === source) {\n//         return;\n//       }\n//       this.unbind();\n//     }\n//     this.isBound = true;\n//     this.source = source;\n//     if (this.sourceExpression.bind) {\n//       this.sourceExpression.bind(this, source, this.lookupFunctions);\n//     }\n//     this.sourceExpression.assign(this.source, this.target, this.lookupFunctions);\n//   }\n\n//   unbind() {\n//     if (!this.isBound) {\n//       return;\n//     }\n//     this.isBound = false;\n//     if (this.sourceExpression.evaluate(this.source, this.lookupFunctions) === this.target) {\n//       this.sourceExpression.assign(this.source, null, this.lookupFunctions);\n//     }\n//     if (this.sourceExpression.unbind) {\n//       this.sourceExpression.unbind(this, this.source);\n//     }\n//     this.source = null;\n//   }\n// }\n\n","export const targetContext = 'Binding:target';\r\nexport const sourceContext = 'Binding:source';\r\n","import { SubscriberCollection } from './subscriber-collection';\nimport { IObserverLocator, IEventSubscriber, ICallable } from './binding-interfaces';\n\nconst checkedArrayContext = 'CheckedObserver:array';\nconst checkedValueContext = 'CheckedObserver:value';\n\nexport class CheckedObserver extends SubscriberCollection {\n  private value: any;\n  private initialSync: boolean;\n  private arrayObserver: any;\n  private oldValue: any;\n  private valueObserver: any;\n\n  constructor(\n    private element: HTMLInputElement & { $observers?: any; matcher?: any; model?: any; },\n    private handler: IEventSubscriber,\n    private observerLocator: IObserverLocator\n  ) {\n    super();\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue: any) {\n    if (this.initialSync && this.value === newValue) {\n      return;\n    }\n\n    // unsubscribe from old array.\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(checkedArrayContext, this);\n      this.arrayObserver = null;\n    }\n    // subscribe to new array.\n    if (this.element.type === 'checkbox' && Array.isArray(newValue)) {\n      this.arrayObserver = this.observerLocator.getArrayObserver(newValue);\n      this.arrayObserver.subscribe(checkedArrayContext, this);\n    }\n    // assign and sync element.\n    this.oldValue = this.value;\n    this.value = newValue;\n    this.synchronizeElement();\n    this.notify();\n    // queue up an initial sync after the bindings have been evaluated.\n    if (!this.initialSync) {\n      this.initialSync = true;\n      this.observerLocator.taskQueue.queueMicroTask(this);\n    }\n  }\n\n  call(context: string, splices: any[]) {\n    // called by task queue, array observer, and model/value observer.\n    this.synchronizeElement();\n    // if the input's model or value property is data-bound, subscribe to it's\n    // changes to enable synchronizing the element's checked status when a change occurs.\n    if (!this.valueObserver) {\n      this.valueObserver = this.element['$observers'].model || this.element['$observers'].value;\n      if (this.valueObserver) {\n        this.valueObserver.subscribe(checkedValueContext, this);\n      }\n    }\n  }\n\n  synchronizeElement() {\n    let value = this.value;\n    let element = this.element;\n    let elementValue = element.hasOwnProperty('model') ? element['model'] : element.value;\n    let isRadio = element.type === 'radio';\n    let matcher = element['matcher'] || ((a: any, b: any) => a === b);\n\n    element.checked =\n      isRadio && !!matcher(value, elementValue)\n      || !isRadio && value === true\n      || !isRadio && Array.isArray(value) && value.findIndex(item => !!matcher(item, elementValue)) !== -1;\n  }\n\n  synchronizeValue() {\n    let value = this.value;\n    let element = this.element;\n    let elementValue = element.hasOwnProperty('model') ? element['model'] : element.value;\n    let index;\n    let matcher = element['matcher'] || ((a: any, b: any) => a === b);\n\n    if (element.type === 'checkbox') {\n      if (Array.isArray(value)) {\n        index = value.findIndex(item => !!matcher(item, elementValue));\n        if (element.checked && index === -1) {\n          value.push(elementValue);\n        } else if (!element.checked && index !== -1) {\n          value.splice(index, 1);\n        }\n        // don't invoke callbacks.\n        return;\n      }\n\n      value = element.checked;\n    } else if (element.checked) {\n      value = elementValue;\n    } else {\n      // don't invoke callbacks.\n      return;\n    }\n\n    this.oldValue = this.value;\n    this.value = value;\n    this.notify();\n  }\n\n  notify() {\n    let oldValue = this.oldValue;\n    let newValue = this.value;\n\n    if (newValue === oldValue) {\n      return;\n    }\n\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  handleEvent() {\n    this.synchronizeValue();\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.handler.subscribe(this.element, this);\n    }\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      this.handler.dispose();\n    }\n  }\n\n  unbind() {\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(checkedArrayContext, this);\n      this.arrayObserver = null;\n    }\n    if (this.valueObserver) {\n      this.valueObserver.unsubscribe(checkedValueContext, this);\n    }\n  }\n}\n","export class ClassObserver {\n  doNotCache = true;\n  value = '';\n  version = 0;\n  nameIndex: any;\n\n  constructor(private element: Element) { }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue: any) {\n    let nameIndex = this.nameIndex || {};\n    let version = this.version;\n    let names;\n    let name;\n\n    // Add the classes, tracking the version at which they were added.\n    if (newValue !== null && newValue !== undefined && newValue.length) {\n      names = newValue.split(/\\s+/);\n      for (let i = 0, length = names.length; i < length; i++) {\n        name = names[i];\n        if (name === '') {\n          continue;\n        }\n        nameIndex[name] = version;\n        this.element.classList.add(name);\n      }\n    }\n\n    // Update state variables.\n    this.value = newValue;\n    this.nameIndex = nameIndex;\n    this.version += 1;\n\n    // First call to setValue?  We're done.\n    if (version === 0) {\n      return;\n    }\n\n    // Remove classes from previous version.\n    version -= 1;\n    for (name in nameIndex) {\n      if (!nameIndex.hasOwnProperty(name) || nameIndex[name] !== version) {\n        continue;\n      }\n      this.element.classList.remove(name);\n    }\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${this.element.nodeName}\" element\\'s \"class\" property is not supported.`);\n  }\n}\n","import { calcSplices, projectArraySplices } from './array-change-records';\nimport { getChangeRecords } from './map-change-records';\nimport { SubscriberCollection } from './subscriber-collection';\nimport { ITaskQueue, ICallable, IBindingCollectionObserver } from './binding-interfaces';\n\ntype Collection = any[] | Map<any, any> | Set<any>;\n\nexport class ModifyCollectionObserver extends SubscriberCollection implements IBindingCollectionObserver {\n  private taskQueue: ITaskQueue;\n  private queued = false;\n  private changeRecords: any[] = null;\n  private oldCollection: Collection = null;\n  private collection: Collection;\n  private lengthPropertyName: string;\n  private lengthObserver: CollectionLengthObserver = null;\n\n  constructor(taskQueue: ITaskQueue, collection: Collection) {\n    super();\n    this.taskQueue = taskQueue;\n    this.collection = collection;\n    this.lengthPropertyName = (collection instanceof Map) || (collection instanceof Set) ? 'size' : 'length';\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n\n  addChangeRecord(changeRecord: any) {\n    if (!this.hasSubscribers() && !this.lengthObserver) {\n      return;\n    }\n\n    if (changeRecord.type === 'splice') {\n      let index = changeRecord.index;\n      let arrayLength = changeRecord.object.length;\n      if (index > arrayLength) {\n        index = arrayLength - changeRecord.addedCount;\n      } else if (index < 0) {\n        index = arrayLength + changeRecord.removed.length + index - changeRecord.addedCount;\n      }\n      if (index < 0) {\n        index = 0;\n      }\n      changeRecord.index = index;\n    }\n\n    if (this.changeRecords === null) {\n      this.changeRecords = [changeRecord];\n    } else {\n      this.changeRecords.push(changeRecord);\n    }\n\n    if (!this.queued) {\n      this.queued = true;\n      this.taskQueue.queueMicroTask(this);\n    }\n  }\n\n  flushChangeRecords() {\n    if ((this.changeRecords && this.changeRecords.length) || this.oldCollection) {\n      this.call();\n    }\n  }\n\n  reset(oldCollection: Collection) {\n    this.oldCollection = oldCollection;\n\n    if (this.hasSubscribers() && !this.queued) {\n      this.queued = true;\n      this.taskQueue.queueMicroTask(this);\n    }\n  }\n\n  getLengthObserver() {\n    return this.lengthObserver || (this.lengthObserver = new CollectionLengthObserver(this.collection));\n  }\n\n  call() {\n    let changeRecords = this.changeRecords;\n    let oldCollection = this.oldCollection;\n    let records;\n\n    this.queued = false;\n    this.changeRecords = [];\n    this.oldCollection = null;\n\n    if (this.hasSubscribers()) {\n      if (oldCollection) {\n        // TODO (martingust) we might want to refactor this to a common, independent of collection type, way of getting the records\n        if ((this.collection instanceof Map) || (this.collection instanceof Set)) {\n          records = getChangeRecords(oldCollection as Map<any, any> | Set<any>);\n        } else {\n          //we might need to combine this with existing change records....\n          records = calcSplices(this.collection, 0, this.collection.length, oldCollection, 0, (oldCollection as any[]).length);\n        }\n      } else {\n        if ((this.collection instanceof Map) || (this.collection instanceof Set)) {\n          records = changeRecords;\n        } else {\n          records = projectArraySplices(this.collection, changeRecords);\n        }\n      }\n\n      this.callSubscribers(records);\n    }\n\n    if (this.lengthObserver) {\n      this.lengthObserver.call((this.collection as any)[this.lengthPropertyName]);\n    }\n  }\n}\n\nexport class CollectionLengthObserver extends SubscriberCollection {\n  private collection: Collection;\n  private lengthPropertyName: string;\n  private currentValue: number;\n\n  constructor(collection: Collection) {\n    super();\n    this.collection = collection;\n    this.lengthPropertyName = collection instanceof Map || collection instanceof Set ? 'size' : 'length';\n    this.currentValue = (collection as any)[this.lengthPropertyName];\n  }\n\n  getValue() {\n    return (this.collection as any)[this.lengthPropertyName];\n  }\n\n  setValue(newValue: number) {\n    (this.collection as any)[this.lengthPropertyName] = newValue;\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n\n  call(newValue: number) {\n    let oldValue = this.currentValue;\n    this.callSubscribers(newValue, oldValue);\n    this.currentValue = newValue;\n  }\n}\n","import {PLATFORM} from '../platform';\r\n\r\nconst queue = [];              // the connect queue\r\nconst queued = {};             // tracks whether a binding with a particular id is in the queue\r\nlet nextId = 0;                // next available id that can be assigned to a binding for queue tracking purposes\r\nconst minimumImmediate = 100;  // number of bindings we should connect immediately before resorting to queueing\r\nconst frameBudget = 15;        // milliseconds allotted to each frame for flushing queue\r\n\r\nlet isFlushRequested = false;  // whether a flush of the connect queue has been requested\r\nlet immediate = 0;             // count of bindings that have been immediately connected\r\n\r\nfunction flush(animationFrameStart) {\r\n  const length = queue.length;\r\n  let i = 0;\r\n  while (i < length) {\r\n    const binding = queue[i];\r\n    queued[binding.__connectQueueId] = false;\r\n    binding.connect(true);\r\n    i++;\r\n    // periodically check whether the frame budget has been hit.\r\n    // this ensures we don't call performance.now a lot and prevents starving the connect queue.\r\n    if (i % 100 === 0 && PLATFORM.performance.now() - animationFrameStart > frameBudget) {\r\n      break;\r\n    }\r\n  }\r\n  queue.splice(0, i);\r\n\r\n  if (queue.length) {\r\n    PLATFORM.requestAnimationFrame(flush);\r\n  } else {\r\n    isFlushRequested = false;\r\n    immediate = 0;\r\n  }\r\n}\r\n\r\nexport function enqueueBindingConnect(binding) {\r\n  if (immediate < minimumImmediate) {\r\n    immediate++;\r\n    binding.connect(false);\r\n  } else {\r\n    // get or assign the binding's id that enables tracking whether it's been queued.\r\n    let id = binding.__connectQueueId;\r\n    if (id === undefined) {\r\n      id = nextId;\r\n      nextId++;\r\n      binding.__connectQueueId = id;\r\n    }\r\n    // enqueue the binding.\r\n    if (!queued[id]) {\r\n      queue.push(binding);\r\n      queued[id] = true;\r\n    }\r\n  }\r\n  if (!isFlushRequested) {\r\n    isFlushRequested = true;\r\n    PLATFORM.requestAnimationFrame(flush);\r\n  }\r\n}\r\n","import { sourceContext } from './call-context';\nimport { ObserverLocator } from './observer-locator';\nimport { IBindingTargetObserver, IObserverLocator, IBindingCollectionObserver } from './binding-interfaces';\n\nconst slotNames: string[] = [];\nconst versionSlotNames: string[] = [];\n\nfor (let i = 0; i < 100; i++) {\n  slotNames.push(`_observer${i}`);\n  versionSlotNames.push(`_observerVersion${i}`);\n}\n\nexport abstract class ConnectableBinding {\n\n  protected observerSlots: any;\n  protected version: number;\n\n  [propName: string]: any;\n\n  constructor(protected observerLocator: IObserverLocator) { }\n\n  abstract call(...args: any[]): any;\n\n  addObserver(observer: IBindingTargetObserver | IBindingCollectionObserver) {\n    // find the observer.\n    let observerSlots = this.observerSlots === undefined ? 0 : this.observerSlots;\n    let i = observerSlots;\n\n    while (i-- && this[slotNames[i]] !== observer) {\n      // Do nothing\n    }\n\n    // if we are not already observing, put the observer in an open slot and subscribe.\n    if (i === -1) {\n      i = 0;\n      while (this[slotNames[i]]) {\n        i++;\n      }\n      this[slotNames[i]] = observer;\n      observer.subscribe(sourceContext, this);\n      // increment the slot count.\n      if (i === observerSlots) {\n        this.observerSlots = i + 1;\n      }\n    }\n    // set the \"version\" when the observer was used.\n    if (this.version === undefined) {\n      this.version = 0;\n    }\n    this[versionSlotNames[i]] = this.version;\n  }\n\n  observeProperty(obj: any, propertyName: string) {\n    let observer = this.observerLocator.getObserver(obj, propertyName);\n    this.addObserver(observer);\n  }\n\n  observeArray(array: any[]) {\n    let observer = this.observerLocator.getArrayObserver(array);\n    this.addObserver(observer);\n  }\n\n  unobserve(all?: boolean) {\n    let i = this.observerSlots;\n    while (i--) {\n      if (all || this[versionSlotNames[i]] !== this.version) {\n        let observer = this[slotNames[i]];\n        this[slotNames[i]] = null;\n        if (observer) {\n          observer.unsubscribe(sourceContext, this);\n        }\n      }\n    }\n  }\n}\n","import {SubscriberCollection} from './subscriber-collection';\r\n\r\nexport class DirtyChecker {\r\n  public static instance = new DirtyChecker();\r\n\r\n  tracked = [];\r\n  checkDelay = 120;\r\n\r\n  addProperty(property) {\r\n    let tracked = this.tracked;\r\n\r\n    tracked.push(property);\r\n\r\n    if (tracked.length === 1) {\r\n      this.scheduleDirtyCheck();\r\n    }\r\n  }\r\n\r\n  removeProperty(property) {\r\n    let tracked = this.tracked;\r\n    tracked.splice(tracked.indexOf(property), 1);\r\n  }\r\n\r\n  scheduleDirtyCheck() {\r\n    setTimeout(() => this.check(), this.checkDelay);\r\n  }\r\n\r\n  check() {\r\n    let tracked = this.tracked;\r\n    let i = tracked.length;\r\n\r\n    while (i--) {\r\n      let current = tracked[i];\r\n\r\n      if (current.isDirty()) {\r\n        current.call();\r\n      }\r\n    }\r\n\r\n    if (tracked.length) {\r\n      this.scheduleDirtyCheck();\r\n    }\r\n  }\r\n}\r\n\r\nexport class DirtyCheckProperty extends SubscriberCollection {\r\n  oldValue;\r\n  \r\n  constructor(private dirtyChecker: DirtyChecker, private obj: any, private propertyName: string) {\r\n    super();\r\n  }\r\n\r\n  getValue() {\r\n    return this.obj[this.propertyName];\r\n  }\r\n\r\n  setValue(newValue) {\r\n    this.obj[this.propertyName] = newValue;\r\n  }\r\n\r\n  call() {\r\n    let oldValue = this.oldValue;\r\n    let newValue = this.getValue();\r\n\r\n    this.callSubscribers(newValue, oldValue);\r\n\r\n    this.oldValue = newValue;\r\n  }\r\n\r\n  isDirty() {\r\n    return this.oldValue !== this.obj[this.propertyName];\r\n  }\r\n\r\n  subscribe(context, callable) {\r\n    if (!this.hasSubscribers()) {\r\n      this.oldValue = this.getValue();\r\n      this.dirtyChecker.addProperty(this);\r\n    }\r\n    this.addSubscriber(context, callable);\r\n  }\r\n\r\n  unsubscribe(context, callable) {\r\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\r\n      this.dirtyChecker.removeProperty(this);\r\n    }\r\n  }\r\n}\r\n","import { SubscriberCollection } from './subscriber-collection';\nimport { IDisposable, IEventSubscriber, ICallable } from './binding-interfaces';\n\nexport class XLinkAttributeObserver {\n  // xlink namespaced attributes require getAttributeNS/setAttributeNS\n  // (even though the NS version doesn't work for other namespaces\n  // in html5 documents)\n  constructor(private element: Element, private propertyName: string, private attributeName: string) { }\n\n  getValue() {\n    return this.element.getAttributeNS('http://www.w3.org/1999/xlink', this.attributeName);\n  }\n\n  setValue(newValue: any) {\n    return this.element.setAttributeNS('http://www.w3.org/1999/xlink', this.attributeName, newValue);\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${this.element.nodeName}\" element\\'s \"${this.propertyName}\" property is not supported.`);\n  }\n}\n\nexport const dataAttributeAccessor = {\n  getValue: (obj: Element, propertyName: string) => obj.getAttribute(propertyName),\n  setValue: (value: any, obj: Element, propertyName: string) => {\n    if (value === null || value === undefined) {\n      obj.removeAttribute(propertyName);\n    } else {\n      obj.setAttribute(propertyName, value);\n    }\n  }\n};\n\nexport class DataAttributeObserver {\n  constructor(private element: Element, private propertyName: string) { }\n\n  getValue() {\n    return this.element.getAttribute(this.propertyName);\n  }\n\n  setValue(newValue: any) {\n    if (newValue === null || newValue === undefined) {\n      return this.element.removeAttribute(this.propertyName);\n    }\n    return this.element.setAttribute(this.propertyName, newValue);\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${this.element.nodeName}\" element\\'s \"${this.propertyName}\" property is not supported.`);\n  }\n}\n\nexport class StyleObserver {\n  styles: any = null;\n  version = 0;\n\n  constructor(private element: HTMLElement, private propertyName: string) { }\n\n  getValue() {\n    return this.element.style.cssText;\n  }\n\n  _setProperty(style: string, value: string) {\n    let priority = '';\n\n    if (value !== null && value !== undefined && typeof value.indexOf === 'function' && value.indexOf('!important') !== -1) {\n      priority = 'important';\n      value = value.replace('!important', '');\n    }\n    this.element.style.setProperty(style, value, priority);\n  }\n\n  setValue(newValue: any) {\n    let styles = this.styles || {};\n    let style;\n    let version = this.version;\n\n    if (newValue !== null && newValue !== undefined) {\n      if (newValue instanceof Object) {\n        let value;\n        for (style in newValue) {\n          if (newValue.hasOwnProperty(style)) {\n            value = newValue[style];\n            style = style.replace(/([A-Z])/g, m => '-' + m.toLowerCase());\n            styles[style] = version;\n            this._setProperty(style, value);\n          }\n        }\n      } else if (newValue.length) {\n        let rx = /\\s*([\\w\\-]+)\\s*:\\s*((?:(?:[\\w\\-]+\\(\\s*(?:\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[\\w\\-]+\\(\\s*(?:^\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^\\)]*)\\),?|[^\\)]*)\\),?|\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^;]*),?\\s*)+);?/g;\n        let pair;\n        while ((pair = rx.exec(newValue)) !== null) {\n          style = pair[1];\n          if (!style) { continue; }\n\n          styles[style] = version;\n          this._setProperty(style, pair[2]);\n        }\n      }\n    }\n\n    this.styles = styles;\n    this.version += 1;\n\n    if (version === 0) {\n      return;\n    }\n\n    version -= 1;\n    for (style in styles) {\n      if (!styles.hasOwnProperty(style) || styles[style] !== version) {\n        continue;\n      }\n\n      this.element.style.removeProperty(style);\n    }\n  }\n\n  subscribe() {\n    throw new Error(`Observation of a \"${this.element.nodeName}\" element\\'s \"${this.propertyName}\" property is not supported.`);\n  }\n}\n\nexport class ValueAttributeObserver extends SubscriberCollection {\n  private oldValue: any;\n\n  constructor(\n    private element: Element,\n    private propertyName: string,\n    private handler: IEventSubscriber\n  ) {\n    super();\n\n    if (propertyName === 'files') {\n      // input.files cannot be assigned.\n      this.setValue = () => { };\n    }\n  }\n\n  getValue(): any {\n    return (this.element as any)[this.propertyName];\n  }\n\n  setValue(newValue: any) {\n    newValue = newValue === undefined || newValue === null ? '' : newValue;\n    if ((this.element as any)[this.propertyName] !== newValue) {\n      (this.element as any)[this.propertyName] = newValue;\n      this.notify();\n    }\n  }\n\n  notify() {\n    let oldValue = this.oldValue;\n    let newValue = this.getValue();\n\n    this.callSubscribers(newValue, oldValue);\n\n    this.oldValue = newValue;\n  }\n\n  handleEvent() {\n    this.notify();\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.oldValue = this.getValue();\n      this.handler.subscribe(this.element, this);\n    }\n\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      this.handler.dispose();\n    }\n  }\n}\n","import { DOM } from '../dom';\nimport { IDisposable, IEventSubscriber, IEventManager, IDelegationStrategy } from './binding-interfaces';\n\n//Note: path and deepPath are designed to handle v0 and v1 shadow dom specs respectively\nfunction findOriginalEventTarget(event: any) {\n  return (event.path && event.path[0]) || (event.deepPath && event.deepPath[0]) || event.target;\n}\n\nfunction stopPropagation() {\n  this.standardStopPropagation();\n  this.propagationStopped = true;\n}\n\nfunction handleCapturedEvent(event: Event & { propagationStopped?: boolean; standardStopPropagation?: Event['stopPropagation'] }) {\n  event.propagationStopped = false;\n  let target = findOriginalEventTarget(event);\n\n  let orderedCallbacks = [];\n  /**\n   * During capturing phase, event 'bubbles' down from parent. Needs to reorder callback from root down to target\n   */\n  while (target) {\n    if (target.capturedCallbacks) {\n      let callback = target.capturedCallbacks[event.type];\n      if (callback) {\n        if (event.stopPropagation !== stopPropagation) {\n          event.standardStopPropagation = event.stopPropagation;\n          event.stopPropagation = stopPropagation;\n        }\n        orderedCallbacks.push(callback);\n      }\n    }\n    target = target.parentNode;\n  }\n  for (let i = orderedCallbacks.length - 1; i >= 0 && !event.propagationStopped; i--) {\n    let orderedCallback = orderedCallbacks[i];\n    if ('handleEvent' in orderedCallback) {\n      orderedCallback.handleEvent(event);\n    } else {\n      orderedCallback(event);\n    }\n  }\n}\n\nclass CapturedHandlerEntry {\n  count = 0;\n\n  constructor(private eventName: string) {\n    this.eventName = eventName;\n  }\n\n  increment() {\n    this.count++;\n\n    if (this.count === 1) {\n      DOM.addEventListener(this.eventName, handleCapturedEvent, true);\n    }\n  }\n\n  decrement() {\n    this.count--;\n\n    if (this.count === 0) {\n      DOM.removeEventListener(this.eventName, handleCapturedEvent, true);\n    }\n  }\n}\n\nfunction handleDelegatedEvent(event: Event & { propagationStopped?: boolean; standardStopPropagation?: Event['stopPropagation'] }) {\n  event.propagationStopped = false;\n  let target = findOriginalEventTarget(event);\n\n  while (target && !event.propagationStopped) {\n    if (target.delegatedCallbacks) {\n      let callback = target.delegatedCallbacks[event.type];\n      if (callback) {\n        if (event.stopPropagation !== stopPropagation) {\n          event.standardStopPropagation = event.stopPropagation;\n          event.stopPropagation = stopPropagation;\n        }\n        if ('handleEvent' in callback) {\n          callback.handleEvent(event);\n        } else {\n          callback(event);\n        }\n      }\n    }\n\n    target = target.parentNode;\n  }\n}\n\nclass DelegatedHandlerEntry {\n  private count = 0;\n\n  constructor(\n    private eventName: string\n  ) {\n  }\n\n  increment() {\n    this.count++;\n\n    if (this.count === 1) {\n      DOM.addEventListener(this.eventName, handleDelegatedEvent, false);\n    }\n  }\n\n  decrement() {\n    this.count--;\n\n    if (this.count === 0) {\n      DOM.removeEventListener(this.eventName, handleDelegatedEvent);\n    }\n  }\n}\n\ninterface IAureliaEventTarget extends EventTarget {\n  delegatedCallbacks?: Record<string, EventListenerOrEventListenerObject>;\n  capturedCallbacks?: Record<string, EventListenerOrEventListenerObject>;\n}\n\ninterface IEventStrategy {\n  subscribe(\n    target: IAureliaEventTarget,\n    targetEvent: string,\n    callback: EventListenerOrEventListenerObject,\n    strategy: IDelegationStrategy[keyof IDelegationStrategy]\n  ): IDisposable;\n}\n\n/**\n * Enable dispose() pattern for `delegate` & `capture` commands\n */\nclass DelegationEntryHandler {\n  constructor(\n    public entry: DelegatedHandlerEntry | CapturedHandlerEntry,\n    public lookup: Record<string, EventListenerOrEventListenerObject>,\n    public targetEvent: string,\n    callback: EventListenerOrEventListenerObject\n  ) {\n    lookup[targetEvent] = callback;\n  }\n\n  dispose() {\n    this.entry.decrement();\n    this.lookup[this.targetEvent] = null;\n    this.entry = this.lookup = this.targetEvent = null;\n  }\n}\n\n/**\n * Enable dispose() pattern for addEventListener for `trigger`\n */\nclass EventHandler {\n  constructor(\n    public target: EventTarget,\n    public targetEvent: string,\n    public callback: EventListenerOrEventListenerObject\n  ) {\n    target.addEventListener(targetEvent, callback);\n  }\n\n  dispose() {\n    this.target.removeEventListener(this.targetEvent, this.callback);\n    this.target = this.targetEvent = this.callback = null;\n  }\n}\n\nclass DefaultEventStrategy implements IEventStrategy {\n  delegatedHandlers: Record<string, DelegatedHandlerEntry> = {};\n  capturedHandlers: Record<string, CapturedHandlerEntry> = {};\n\n  subscribe(\n    target: IAureliaEventTarget,\n    targetEvent: string,\n    callback: EventListenerOrEventListenerObject,\n    strategy: IDelegationStrategy[keyof IDelegationStrategy]\n  ) {\n\n    let delegatedHandlers: Record<string, DelegatedHandlerEntry> | undefined;\n    let capturedHandlers: Record<string, CapturedHandlerEntry> | undefined;\n    let handlerEntry: DelegatedHandlerEntry | CapturedHandlerEntry | undefined;\n\n    if (strategy === delegationStrategy.bubbling) {\n      delegatedHandlers = this.delegatedHandlers;\n      handlerEntry = delegatedHandlers[targetEvent] || (delegatedHandlers[targetEvent] = new DelegatedHandlerEntry(targetEvent));\n      let delegatedCallbacks = target.delegatedCallbacks || (target.delegatedCallbacks = {});\n\n      return new DelegationEntryHandler(handlerEntry, delegatedCallbacks, targetEvent, callback);\n    }\n    if (strategy === delegationStrategy.capturing) {\n      capturedHandlers = this.capturedHandlers;\n      handlerEntry = capturedHandlers[targetEvent] || (capturedHandlers[targetEvent] = new CapturedHandlerEntry(targetEvent));\n      let capturedCallbacks = target.capturedCallbacks || (target.capturedCallbacks = {});\n\n      return new DelegationEntryHandler(handlerEntry, capturedCallbacks, targetEvent, callback);\n    }\n\n    return new EventHandler(target, targetEvent, callback);\n  }\n}\n\nexport const delegationStrategy: IDelegationStrategy = {\n  none: 0,\n  capturing: 1,\n  bubbling: 2\n};\n\n\nexport interface IElementEventHandlerConfig extends Record<string, Record<string, string[]>> { }\n\nexport class EventManager implements IEventManager {\n  public static instance = new EventManager();\n\n  elementHandlerLookup: IElementEventHandlerConfig = {};\n  eventStrategyLookup: Record<string, IEventStrategy> = {};\n  defaultEventStrategy = new DefaultEventStrategy();\n\n  constructor() {\n    this.registerElementConfig({\n      tagName: 'input',\n      properties: {\n        value: ['change', 'input'],\n        checked: ['change', 'input'],\n        files: ['change', 'input']\n      }\n    });\n\n    this.registerElementConfig({\n      tagName: 'textarea',\n      properties: {\n        value: ['change', 'input']\n      }\n    });\n\n    this.registerElementConfig({\n      tagName: 'select',\n      properties: {\n        value: ['change']\n      }\n    });\n\n    this.registerElementConfig({\n      tagName: 'content editable',\n      properties: {\n        value: ['change', 'input', 'blur', 'keyup', 'paste']\n      }\n    });\n\n    this.registerElementConfig({\n      tagName: 'scrollable element',\n      properties: {\n        scrollTop: ['scroll'],\n        scrollLeft: ['scroll']\n      }\n    });\n  }\n\n  registerElementConfig(config: { tagName: string, properties: Record<string, string[]> }) {\n    let tagName = config.tagName.toLowerCase();\n    let properties = config.properties;\n    let propertyName;\n\n    let lookup: Record<string, string[]> = this.elementHandlerLookup[tagName] = {};\n\n    for (propertyName in properties) {\n      if (properties.hasOwnProperty(propertyName)) {\n        lookup[propertyName] = properties[propertyName];\n      }\n    }\n  }\n\n  registerEventStrategy(eventName: string, strategy: IEventStrategy) {\n    this.eventStrategyLookup[eventName] = strategy;\n  }\n\n  getElementHandler(target: Element, propertyName: string): EventSubscriber | null {\n    let tagName;\n    let lookup = this.elementHandlerLookup;\n\n    if (target.tagName) {\n      tagName = target.tagName.toLowerCase();\n\n      if (lookup[tagName] && lookup[tagName][propertyName]) {\n        return new EventSubscriber(lookup[tagName][propertyName]);\n      }\n\n      if (propertyName === 'textContent' || propertyName === 'innerHTML') {\n        return new EventSubscriber(lookup['content editable'].value);\n      }\n\n      if (propertyName === 'scrollTop' || propertyName === 'scrollLeft') {\n        return new EventSubscriber(lookup['scrollable element'][propertyName]);\n      }\n    }\n\n    return null;\n  }\n\n  addEventListener(\n    target: EventTarget,\n    targetEvent: string,\n    callbackOrListener: EventListenerOrEventListenerObject,\n    delegate: IDelegationStrategy[keyof IDelegationStrategy]\n  ) {\n    return (this.eventStrategyLookup[targetEvent] || this.defaultEventStrategy)\n      .subscribe(target, targetEvent, callbackOrListener, delegate);\n  }\n}\n\nexport class EventSubscriber implements IEventSubscriber {\n\n  private target: EventTarget;\n  private handler: EventListenerOrEventListenerObject;\n\n  constructor(public readonly events: string[]) {\n    this.events = events;\n    this.target = null;\n    this.handler = null;\n  }\n\n  subscribe(element: EventTarget, callbackOrListener: EventListenerOrEventListenerObject) {\n    this.target = element;\n    this.handler = callbackOrListener;\n\n    let events = this.events;\n    for (let i = 0, ii = events.length; ii > i; ++i) {\n      element.addEventListener(events[i], callbackOrListener);\n    }\n  }\n\n  dispose() {\n    let element = this.target;\n    let callbackOrListener = this.handler;\n    let events = this.events;\n    for (let i = 0, ii = events.length; ii > i; ++i) {\n      element.removeEventListener(events[i], callbackOrListener);\n    }\n    this.target = this.handler = null;\n  }\n}\n","import { EventManager } from \"./event-manager\";\nimport { IExpression, ILookupFunctions } from \"./ast\";\nimport { IBinding } from \"./binding\";\nimport { Scope, IDisposable, IDelegationStrategy, IEventManager } from \"./binding-interfaces\";\n\nexport class Listener implements IBinding {\n  private source: Scope;\n  private isBound = false;\n  private handler: IDisposable;\n\n  constructor(\n    private targetEvent: string,\n    private delegationStrategy: IDelegationStrategy[keyof IDelegationStrategy],\n    private sourceExpression: IExpression,\n    private target: EventTarget,\n    private preventDefault: boolean,\n    public lookupFunctions: ILookupFunctions,\n    private eventManager: IEventManager = EventManager.instance\n  ) {\n    this.targetEvent = targetEvent;\n    this.delegationStrategy = delegationStrategy;\n    this.sourceExpression = sourceExpression;\n    this.target = target;\n    this.preventDefault = preventDefault;\n    this.lookupFunctions = lookupFunctions;\n  }\n\n  callSource(event: Event) {\n    let overrideContext = this.source.overrideContext as any;\n    overrideContext['$event'] = event;\n\n    let mustEvaluate = true;\n    let result = this.sourceExpression.evaluate(this.source, this.lookupFunctions, mustEvaluate);\n\n    delete overrideContext['$event'];\n\n    if (result !== true && this.preventDefault) {\n      event.preventDefault();\n    }\n\n    return result;\n  }\n\n  handleEvent(event: Event) {\n    this.callSource(event);\n  }\n\n  bind(source: Scope) {\n    if (this.isBound) {\n      if (this.source === source) {\n        return;\n      }\n\n      this.unbind();\n    }\n\n    this.isBound = true;\n    this.source = source;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, source);\n    }\n\n    this.handler = this.eventManager.addEventListener(\n      this.target,\n      this.targetEvent,\n      this,\n      this.delegationStrategy\n    );\n  }\n\n  unbind() {\n    if (!this.isBound) {\n      return;\n    }\n\n    this.isBound = false;\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.source);\n    }\n\n    this.source = null;\n    this.handler.dispose();\n    this.handler = null;\n  }\n\n  observeProperty() { }\n}\n","function newRecord(type: string, object: any, key: any, oldValue?: any) {\n  return {\n    type: type,\n    object: object,\n    key: key,\n    oldValue: oldValue\n  };\n}\n\nexport function getChangeRecords(map: Set<any> | Map<any, any>) {\n  let entries = new Array(map.size);\n  let keys = map.keys();\n  let i = 0;\n  let item;\n\n  while (item = keys.next()) { // eslint-disable-line no-cond-assign\n    if (item.done) {\n      break;\n    }\n\n    entries[i] = newRecord('added', map, item.value);\n    i++;\n  }\n\n  return entries;\n}\n","import {ModifyCollectionObserver} from './collection-observation';\r\n\r\nlet mapProto = Map.prototype;\r\n\r\nexport function getMapObserver(taskQueue, map) {\r\n  return ModifyMapObserver.for(taskQueue, map);\r\n}\r\n\r\nclass ModifyMapObserver extends ModifyCollectionObserver {\r\n  constructor(taskQueue, map) {\r\n    super(taskQueue, map);\r\n  }\r\n\r\n  /**\r\n   * Searches for observer or creates a new one associated with given map instance\r\n   * @param taskQueue\r\n   * @param map instance for which observer is searched\r\n   * @returns ModifyMapObserver always the same instance for any given map instance\r\n   */\r\n  static for(taskQueue, map) {\r\n    if (!('__map_observer__' in map)) {\r\n      Reflect.defineProperty(map, '__map_observer__', {\r\n        value: ModifyMapObserver.create(taskQueue, map),\r\n        enumerable: false, configurable: false\r\n      });\r\n    }\r\n    return map.__map_observer__;\r\n  }\r\n\r\n  static create(taskQueue, map) {\r\n    let observer = new ModifyMapObserver(taskQueue, map);\r\n    let proto: any = mapProto;\r\n\r\n    if (proto.set !== map.set || proto.delete !== map.delete || proto.clear !== map.clear) {\r\n      proto = {\r\n        set: map.set,\r\n        delete: map.delete,\r\n        clear: map.clear\r\n      };\r\n    }\r\n\r\n    map.set = function() {\r\n      let hasValue = map.has(arguments[0]);\r\n      let type = hasValue ? 'update' : 'add';\r\n      let oldValue = map.get(arguments[0]);\r\n      let methodCallResult = proto.set.apply(map, arguments);\r\n      if (!hasValue || oldValue !== map.get(arguments[0])) {\r\n        observer.addChangeRecord({\r\n          type: type,\r\n          object: map,\r\n          key: arguments[0],\r\n          oldValue: oldValue\r\n        });\r\n      }\r\n      return methodCallResult;\r\n    };\r\n\r\n    map.delete = function() {\r\n      let hasValue = map.has(arguments[0]);\r\n      let oldValue = map.get(arguments[0]);\r\n      let methodCallResult = proto.delete.apply(map, arguments);\r\n      if (hasValue) {\r\n        observer.addChangeRecord({\r\n          type: 'delete',\r\n          object: map,\r\n          key: arguments[0],\r\n          oldValue: oldValue\r\n        });\r\n      }\r\n      return methodCallResult;\r\n    };\r\n\r\n    map.clear = function() {\r\n      let methodCallResult = proto.clear.apply(map, arguments);\r\n      observer.addChangeRecord({\r\n        type: 'clear',\r\n        object: map\r\n      });\r\n      return methodCallResult;\r\n    };\r\n\r\n    return observer;\r\n  }\r\n}\r\n","import * as LogManager from '../logging';\nimport { DOM } from '../dom';\nimport { TaskQueue, Task } from '../task-queue';\nimport { getArrayObserver } from './array-observation';\nimport { getMapObserver } from './map-observation';\nimport { getSetObserver } from './set-observation';\nimport { EventManager } from './event-manager';\nimport { DirtyChecker, DirtyCheckProperty } from './dirty-checking';\nimport {\n  SetterObserver,\n  PrimitiveObserver,\n  propertyAccessor\n} from './property-observation';\nimport { SelectValueObserver } from './select-value-observer';\nimport { CheckedObserver } from './checked-observer';\nimport {\n  ValueAttributeObserver,\n  XLinkAttributeObserver,\n  DataAttributeObserver,\n  StyleObserver,\n  dataAttributeAccessor\n} from './element-observation';\nimport { ClassObserver } from './class-observer';\nimport { SVGAnalyzer } from './svg';\nimport { IObserverLocator, IBindingTargetObserver, IObservable, ITaskQueue, IBindingTargetAccessor } from './binding-interfaces';\n\nfunction getPropertyDescriptor(subject: object, name: string) {\n  let pd = Object.getOwnPropertyDescriptor(subject, name);\n  let proto = Object.getPrototypeOf(subject);\n\n  while (typeof pd === 'undefined' && proto !== null) {\n    pd = Object.getOwnPropertyDescriptor(proto, name);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return pd;\n}\n\nexport class ObserverLocator implements IObserverLocator {\n  public static instance = new ObserverLocator();\n\n  private adapters: ObjectObservationAdapter[] = [];\n  private logger = LogManager.getLogger('observer-locator');\n\n  constructor(\n    public readonly taskQueue: ITaskQueue = TaskQueue.instance,\n    private eventManager: EventManager = EventManager.instance,\n    private dirtyChecker: DirtyChecker = DirtyChecker.instance,\n    private svgAnalyzer: SVGAnalyzer = SVGAnalyzer.instance\n  ) { }\n\n  getObserver(obj: any, propertyName: string): IBindingTargetObserver {\n    let observersLookup = obj.$observers;\n    let observer;\n\n    if (observersLookup && propertyName in observersLookup) {\n      return observersLookup[propertyName];\n    }\n\n    observer = this.createPropertyObserver(obj, propertyName);\n\n    if (!observer.doNotCache) {\n      if (observersLookup === undefined) {\n        observersLookup = this.getOrCreateObserversLookup(obj);\n      }\n\n      observersLookup[propertyName] = observer;\n    }\n\n    return observer;\n  }\n\n  getOrCreateObserversLookup(obj: IObservable) {\n    return obj.$observers || this.createObserversLookup(obj);\n  }\n\n  createObserversLookup(obj: IObservable): Record<string, IBindingTargetObserver> {\n    let value: Record<string, IBindingTargetObserver> = {};\n\n    if (!Reflect.defineProperty(obj, '$observers', {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: value\n    })) {\n      this.logger.warn('Cannot add observers to object', obj);\n    }\n\n    return value;\n  }\n\n  addAdapter(adapter: ObjectObservationAdapter) {\n    this.adapters.push(adapter);\n  }\n\n  getAdapterObserver(obj: any, propertyName: string, descriptor: PropertyDescriptor) {\n    for (let i = 0, ii = this.adapters.length; i < ii; i++) {\n      let adapter = this.adapters[i];\n      let observer = adapter.getObserver(obj, propertyName, descriptor);\n      if (observer) {\n        return observer;\n      }\n    }\n    return null;\n  }\n\n  createPropertyObserver(obj: any, propertyName: string) {\n    let descriptor;\n    let handler;\n    let xlinkResult;\n\n    if (!(obj instanceof Object)) {\n      return new PrimitiveObserver(obj, propertyName);\n    }\n\n    if (obj instanceof DOM.Element) {\n      if (propertyName === 'class') {\n        return new ClassObserver(obj);\n      }\n\n      if (propertyName === 'style' || propertyName === 'css') {\n        return new StyleObserver(<HTMLElement>obj, propertyName);\n      }\n\n      handler = this.eventManager.getElementHandler(obj, propertyName);\n      if (propertyName === 'value' && obj.tagName.toLowerCase() === 'select') {\n        return new SelectValueObserver(obj as HTMLSelectElement, handler, this);\n      }\n\n      if (propertyName === 'checked' && obj.tagName.toLowerCase() === 'input') {\n        return new CheckedObserver(<HTMLInputElement>obj, handler, this);\n      }\n\n      if (handler) {\n        return new ValueAttributeObserver(obj, propertyName, handler);\n      }\n\n      xlinkResult = /^xlink:(.+)$/.exec(propertyName);\n      if (xlinkResult) {\n        return new XLinkAttributeObserver(obj, propertyName, xlinkResult[1]);\n      }\n\n      if (propertyName === 'role' && (obj instanceof DOM.Element || <any>obj instanceof DOM.SVGElement)\n        || /^\\w+:|^data-|^aria-/.test(propertyName)\n        || obj instanceof DOM.SVGElement && this.svgAnalyzer.isStandardSvgAttribute(obj.nodeName, propertyName)) {\n        return new DataAttributeObserver(obj, propertyName);\n      }\n    }\n\n    descriptor = getPropertyDescriptor(obj, propertyName);\n\n    //TODO: do something with this so that it doesn't always require the full expression parser\n    //if (hasDeclaredDependencies(descriptor)) {\n    //  return createComputedObserver(obj, propertyName, descriptor, this);\n    //}\n\n    if (descriptor) {\n      const existingGetterOrSetter: ((arg?: any) => any) & { getObserver?: Function } = descriptor.get || descriptor.set;\n      if (existingGetterOrSetter) {\n        if (existingGetterOrSetter.getObserver) {\n          return existingGetterOrSetter.getObserver(obj);\n        }\n\n        // attempt to use an adapter before resorting to dirty checking.\n        let adapterObserver = this.getAdapterObserver(obj, propertyName, descriptor);\n        if (adapterObserver) {\n          return adapterObserver;\n        }\n        return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n      }\n    }\n\n    if (obj instanceof Array) {\n      if (propertyName === 'length') {\n        return this.getArrayObserver(obj).getLengthObserver();\n      }\n\n      return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n    } else if (obj instanceof Map) {\n      if (propertyName === 'size') {\n        return this.getMapObserver(obj).getLengthObserver();\n      }\n\n      return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n    } else if (obj instanceof Set) {\n      if (propertyName === 'size') {\n        return this.getSetObserver(obj).getLengthObserver();\n      }\n\n      return new DirtyCheckProperty(this.dirtyChecker, obj, propertyName);\n    }\n\n    return new SetterObserver(this.taskQueue, obj, propertyName);\n  }\n\n  getAccessor(obj: any, propertyName: string): IBindingTargetObserver | IBindingTargetAccessor {\n    if (obj instanceof DOM.Element) {\n      if (propertyName === 'class'\n        || propertyName === 'style' || propertyName === 'css'\n        || propertyName === 'value' && (obj.tagName.toLowerCase() === 'input' || obj.tagName.toLowerCase() === 'select')\n        || propertyName === 'checked' && obj.tagName.toLowerCase() === 'input'\n        || propertyName === 'model' && obj.tagName.toLowerCase() === 'input'\n        || /^xlink:.+$/.exec(propertyName)) {\n        return this.getObserver(obj, propertyName);\n      }\n      if (/^\\w+:|^data-|^aria-/.test(propertyName)\n        || obj instanceof DOM.SVGElement && this.svgAnalyzer.isStandardSvgAttribute(obj.nodeName, propertyName)\n        || obj.tagName.toLowerCase() === 'img' && propertyName === 'src'\n        || obj.tagName.toLowerCase() === 'a' && propertyName === 'href'\n      ) {\n        return dataAttributeAccessor;\n      }\n    }\n    return propertyAccessor;\n  }\n\n  getArrayObserver(array: any[]) {\n    return getArrayObserver(this.taskQueue, array);\n  }\n\n  getMapObserver(map: Map<any, any>) {\n    return getMapObserver(this.taskQueue, map);\n  }\n\n  getSetObserver(set: Set<any>) {\n    return getSetObserver(this.taskQueue, set);\n  }\n}\n\nexport interface ObjectObservationAdapter {\n  getObserver(object: any, propertyName: string, descriptor: PropertyDescriptor): IBindingTargetObserver;\n}\n","import { getLogger } from '../logging';\nimport { SubscriberCollection } from './subscriber-collection';\nimport { TaskQueue } from '../task-queue';\nimport { IIndexable, ITaskQueue, ICallable } from './binding-interfaces';\n\nconst logger = getLogger('property-observation');\n\nexport const propertyAccessor = {\n  getValue: (obj: any, propertyName: string) => obj[propertyName],\n  setValue: (value: any, obj: IIndexable, propertyName: string) => { obj[propertyName] = value; }\n};\n\nexport class PrimitiveObserver {\n  doNotCache = true;\n\n  constructor(\n    private primitive: IIndexable,\n    private propertyName: string\n  ) {\n    this.primitive = primitive;\n    this.propertyName = propertyName;\n  }\n\n  getValue() {\n    return this.primitive[this.propertyName];\n  }\n\n  setValue() {\n    let type = typeof this.primitive;\n    throw new Error(`The ${this.propertyName} property of a ${type} (${this.primitive}) cannot be assigned.`);\n  }\n\n  subscribe() {\n  }\n\n  unsubscribe() {\n  }\n}\n\nexport class SetterObserver extends SubscriberCollection {\n  private queued = false;\n  private observing = false;\n  private currentValue: any;\n  private oldValue: any;\n\n  constructor(\n    private taskQueue: ITaskQueue,\n    private obj: any,\n    private propertyName: string\n  ) {\n    super();\n  }\n\n  getValue() {\n    return this.obj[this.propertyName];\n  }\n\n  setValue(newValue: any) {\n    this.obj[this.propertyName] = newValue;\n  }\n\n  getterValue() {\n    return this.currentValue;\n  }\n\n  setterValue(newValue: any) {\n    let oldValue = this.currentValue;\n\n    if (oldValue !== newValue) {\n      if (!this.queued) {\n        this.oldValue = oldValue;\n        this.queued = true;\n        this.taskQueue.queueMicroTask(this);\n      }\n\n      this.currentValue = newValue;\n    }\n  }\n\n  call() {\n    let oldValue = this.oldValue;\n    let newValue = this.currentValue;\n\n    this.queued = false;\n\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.observing) {\n      this.convertProperty();\n    }\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n\n  convertProperty() {\n    this.observing = true;\n    this.currentValue = this.obj[this.propertyName];\n    this.setValue = this.setterValue;\n    this.getValue = this.getterValue;\n\n    if (!Reflect.defineProperty(this.obj, this.propertyName, {\n      configurable: true,\n      enumerable: this.propertyName in this.obj ?\n        this.obj.propertyIsEnumerable(this.propertyName) : true,\n      get: this.getValue.bind(this),\n      set: this.setValue.bind(this)\n    })) {\n      logger.warn(`Cannot observe property '${this.propertyName}' of object`, this.obj);\n    }\n  }\n}\n\nexport class Observer<T> extends SubscriberCollection {\n  private queued = false;\n  private oldValue: T;\n\n  constructor(\n    private currentValue: T,\n    private selfCallback?: (newValue: T, oldValue: T) => void | T,\n    private taskQueue = TaskQueue.instance\n  ) {\n    super();\n  }\n\n  getValue(): T {\n    return this.currentValue;\n  }\n\n  setValue(newValue: T) {\n    let oldValue = this.currentValue;\n\n    if (oldValue !== newValue) {\n      if (!this.queued) {\n        this.oldValue = oldValue;\n        this.queued = true;\n        this.taskQueue.queueMicroTask(this);\n      }\n\n      if (this.selfCallback !== undefined) {\n        let coercedValue = this.selfCallback(newValue, oldValue);\n\n        if (coercedValue !== undefined) {\n          newValue = <T>coercedValue;\n        }\n      }\n\n      this.currentValue = newValue;\n    }\n  }\n\n  call() {\n    let oldValue = this.oldValue;\n    let newValue = this.currentValue;\n    this.queued = false;\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    this.removeSubscriber(context, callable);\n  }\n}\n","import { IExpression, ILookupFunctions } from \"./ast\";\nimport { IBinding, IBindingTarget } from \"./binding\";\nimport { Scope } from './binding-interfaces'\n\nexport class Ref implements IBinding {\n  private source: Scope;\n  private isBound = false;\n\n  constructor(\n    private sourceExpression: IExpression,\n    private target: IBindingTarget,\n    public lookupFunctions: ILookupFunctions) {\n  }\n\n  bind(source: Scope) {\n    if (this.isBound) {\n      if (this.source === source) {\n        return;\n      }\n\n      this.unbind();\n    }\n\n    this.isBound = true;\n    this.source = source;\n\n    if (this.sourceExpression.bind) {\n      this.sourceExpression.bind(this, source);\n    }\n\n    this.sourceExpression.assign(this.source, this.target, this.lookupFunctions);\n  }\n\n  unbind() {\n    if (!this.isBound) {\n      return;\n    }\n\n    this.isBound = false;\n\n    if (this.sourceExpression.evaluate(this.source, this.lookupFunctions) === this.target) {\n      this.sourceExpression.assign(this.source, null, this.lookupFunctions);\n    }\n\n    if (this.sourceExpression.unbind) {\n      this.sourceExpression.unbind(this, this.source);\n    }\n\n    this.source = null;\n  }\n\n  observeProperty(context: any, name: any) { }\n}\n","import { OverrideContext, Scope } from \"./binding-interfaces\";\n\n\n// view instances implement this interface\n\n\nexport function createOverrideContext(bindingContext?: any, parentOverrideContext?: OverrideContext): OverrideContext {\n  return {\n    bindingContext: bindingContext,\n    parentOverrideContext: parentOverrideContext || null\n  };\n}\n\nexport function getContextFor(name: string, scope: Scope, ancestor: number): any {\n  let oc = scope.overrideContext;\n\n  if (ancestor) {\n    // jump up the required number of ancestor contexts (eg $parent.$parent requires two jumps)\n    while (ancestor && oc) {\n      ancestor--;\n      oc = oc.parentOverrideContext;\n    }\n    if (ancestor || !oc) {\n      return undefined;\n    }\n    return name in oc ? oc : oc.bindingContext;\n  }\n\n  // traverse the context and it's ancestors, searching for a context that has the name.\n  while (oc && !(name in oc) && !(oc.bindingContext && name in oc.bindingContext)) {\n    oc = oc.parentOverrideContext;\n  }\n  if (oc) {\n    // we located a context with the property.  return it.\n    return name in oc ? oc : oc.bindingContext;\n  }\n  // the name wasn't found.  return the root binding context.\n  return scope.bindingContext || scope.overrideContext;\n}\n\n//DEBUG\nexport function createScopeForTest(bindingContext: any, parentBindingContext?: any): Scope {\n  if (parentBindingContext) {\n    return {\n      bindingContext,\n      overrideContext: createOverrideContext(bindingContext, createOverrideContext(parentBindingContext))\n    };\n  }\n  return {\n    bindingContext,\n    overrideContext: createOverrideContext(bindingContext)\n  };\n}\n//DEBUG-END\n","import { SubscriberCollection } from './subscriber-collection';\nimport { DOM } from '../dom';\nimport { IEventSubscriber, IObserverLocator, ICallable } from './binding-interfaces';\n\nconst selectArrayContext = 'SelectValueObserver:array';\n\nexport class SelectValueObserver extends SubscriberCollection {\n  private value: any;\n  private oldValue: any;\n  private arrayObserver: any;\n  private initialSync = false;\n  private domObserver: MutationObserver;\n\n  constructor(\n    private element: HTMLSelectElement,\n    private handler: IEventSubscriber,\n    private observerLocator: IObserverLocator\n  ) {\n    super();\n    this.element = element;\n    this.handler = handler;\n    this.observerLocator = observerLocator;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue: any) {\n    if (newValue !== null && newValue !== undefined && this.element.multiple && !Array.isArray(newValue)) {\n      throw new Error('Only null or Array instances can be bound to a multi-select.');\n    }\n    if (this.value === newValue) {\n      return;\n    }\n    // unsubscribe from old array.\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(selectArrayContext, this);\n      this.arrayObserver = null;\n    }\n    // subscribe to new array.\n    if (Array.isArray(newValue)) {\n      this.arrayObserver = this.observerLocator.getArrayObserver(newValue);\n      this.arrayObserver.subscribe(selectArrayContext, this);\n    }\n    // assign and sync element.\n    this.oldValue = this.value;\n    this.value = newValue;\n    this.synchronizeOptions();\n    this.notify();\n    // queue up an initial sync after the bindings have been evaluated.\n    if (!this.initialSync) {\n      this.initialSync = true;\n      this.observerLocator.taskQueue.queueMicroTask(this);\n    }\n  }\n\n  call(context: string, splices: any[]) {\n    // called by task queue and array observer.\n    this.synchronizeOptions();\n  }\n\n  synchronizeOptions() {\n    let value = this.value;\n    let isArray: boolean;\n\n    if (Array.isArray(value)) {\n      isArray = true;\n    }\n\n    let options = this.element.options;\n    let i = options.length;\n    let matcher = this.element.matcher || ((a: any, b: any) => a === b);\n    while (i--) {\n      let option = options.item(i) as HTMLOptionElement & { model?: any };\n      let optionValue = option.hasOwnProperty('model') ? option.model : option.value;\n      if (isArray) {\n        option.selected = value.findIndex((item: any) => !!matcher(optionValue, item)) !== -1; // eslint-disable-line no-loop-func\n        continue;\n      }\n      option.selected = !!matcher(optionValue, value);\n    }\n  }\n\n  synchronizeValue() {\n    let options = this.element.options;\n    let count = 0;\n    let value = [];\n\n    for (let i = 0, ii = options.length; i < ii; i++) {\n      let option = options.item(i) as HTMLOptionElement & { model?: any };\n      if (!option.selected) {\n        continue;\n      }\n      value.push(option.hasOwnProperty('model') ? option.model : option.value);\n      count++;\n    }\n\n    if (this.element.multiple) {\n      // multi-select\n      if (Array.isArray(this.value)) {\n        let matcher = this.element.matcher || ((a: any, b: any) => a === b);\n        // remove items that are no longer selected.\n        let i = 0;\n        while (i < this.value.length) {\n          let a = this.value[i];\n          if (value.findIndex(b => matcher(a, b)) === -1) { // eslint-disable-line no-loop-func\n            this.value.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n        // add items that have been selected.\n        i = 0;\n        while (i < value.length) {\n          let a = value[i];\n          if (this.value.findIndex(b => matcher(a, b)) === -1) { // eslint-disable-line no-loop-func\n            this.value.push(a);\n          }\n          i++;\n        }\n        return; // don't notify.\n      }\n    } else {\n      // single-select\n      if (count === 0) {\n        value = null;\n      } else {\n        value = value[0];\n      }\n    }\n\n    if (value !== this.value) {\n      this.oldValue = this.value;\n      this.value = value;\n      this.notify();\n    }\n  }\n\n  notify() {\n    let oldValue = this.oldValue;\n    let newValue = this.value;\n\n    this.callSubscribers(newValue, oldValue);\n  }\n\n  handleEvent() {\n    this.synchronizeValue();\n  }\n\n  subscribe(context: string, callable: ICallable) {\n    if (!this.hasSubscribers()) {\n      this.handler.subscribe(this.element, this);\n    }\n    this.addSubscriber(context, callable);\n  }\n\n  unsubscribe(context: string, callable: ICallable) {\n    if (this.removeSubscriber(context, callable) && !this.hasSubscribers()) {\n      this.handler.dispose();\n    }\n  }\n\n  bind() {\n    this.domObserver = DOM.createMutationObserver(() => {\n      this.synchronizeOptions();\n      this.synchronizeValue();\n    });\n    this.domObserver.observe(this.element, { childList: true, subtree: true });\n  }\n\n  unbind() {\n    this.domObserver.disconnect();\n    this.domObserver = null;\n\n    if (this.arrayObserver) {\n      this.arrayObserver.unsubscribe(selectArrayContext, this);\n      this.arrayObserver = null;\n    }\n  }\n}\n","import { ModifyCollectionObserver } from './collection-observation';\nimport { ITaskQueue } from './binding-interfaces';\n\nlet setProto = Set.prototype;\n\nexport function getSetObserver(taskQueue: ITaskQueue, set: Set<any>) {\n  return ModifySetObserver.for(taskQueue, set);\n}\n\nclass ModifySetObserver extends ModifyCollectionObserver {\n  constructor(taskQueue: ITaskQueue, set: Set<any>) {\n    super(taskQueue, set);\n  }\n\n  /**\n   * Searches for observer or creates a new one associated with given set instance\n   * @param taskQueue\n   * @param set instance for which observer is searched\n   * @returns ModifySetObserver always the same instance for any given set instance\n   */\n  static for(taskQueue: ITaskQueue, set: Set<any> & { __set_observer__?: ModifySetObserver }) {\n    if (!('__set_observer__' in set)) {\n      Reflect.defineProperty(set, '__set_observer__', {\n        value: ModifySetObserver.create(taskQueue, set),\n        enumerable: false, configurable: false\n      });\n    }\n    return set.__set_observer__;\n  }\n\n  static create(taskQueue: ITaskQueue, set: Set<any>) {\n    let observer = new ModifySetObserver(taskQueue, set);\n\n    let proto: any = setProto;\n    if (proto.add !== set.add || proto.delete !== set.delete || proto.clear !== set.clear) {\n      proto = {\n        add: set.add,\n        delete: set.delete,\n        clear: set.clear\n      };\n    }\n\n    set.add = function() {\n      let type = 'add';\n      let oldSize = set.size;\n      let methodCallResult = proto.add.apply(set, arguments);\n      let hasValue = set.size === oldSize;\n      if (!hasValue) {\n        observer.addChangeRecord({\n          type: type,\n          object: set,\n          value: Array.from(set).pop()\n        });\n      }\n      return methodCallResult;\n    };\n\n    set.delete = function() {\n      let hasValue = set.has(arguments[0]);\n      let methodCallResult = proto.delete.apply(set, arguments);\n      if (hasValue) {\n        observer.addChangeRecord({\n          type: 'delete',\n          object: set,\n          value: arguments[0]\n        });\n      }\n      return methodCallResult;\n    };\n\n    set.clear = function() {\n      let methodCallResult = proto.clear.apply(set, arguments);\n      observer.addChangeRecord({\n        type: 'clear',\n        object: set\n      });\n      return methodCallResult;\n    };\n\n    return observer;\n  }\n}\n","import { ConnectableBinding } from \"./connectable-binding\";\n\nconst signals: Record<string, number> = {};\n\nexport function connectBindingToSignal(binding: ConnectableBinding, name: string) {\n  if (!signals.hasOwnProperty(name)) {\n    signals[name] = 0;\n  }\n\n  binding.observeProperty(signals, name);\n}\n\nexport function signalBindings(name: string) {\n  if (signals.hasOwnProperty(name)) {\n    signals[name]++;\n  }\n}\n","import { ICallable } from \"./binding-interfaces\";\n\nlet arrayPool1: any[] = [];\nlet arrayPool2: any[] = [];\nlet poolUtilization: any[] = [];\n\nexport abstract class SubscriberCollection {\n  private _context0: any = null;\n  private _callable0: ICallable = null;\n  private _context1: any = null;\n  private _callable1: ICallable = null;\n  private _context2: any = null;\n  private _callable2: ICallable = null;\n  private _contextsRest: any[] = null;\n  private _callablesRest: ICallable[] = null;\n\n  protected addSubscriber(context: string, callable: ICallable) {\n    if (this.hasSubscriber(context, callable)) {\n      return false;\n    }\n    if (!this._context0) {\n      this._context0 = context;\n      this._callable0 = callable;\n      return true;\n    }\n    if (!this._context1) {\n      this._context1 = context;\n      this._callable1 = callable;\n      return true;\n    }\n    if (!this._context2) {\n      this._context2 = context;\n      this._callable2 = callable;\n      return true;\n    }\n    if (!this._contextsRest) {\n      this._contextsRest = [context];\n      this._callablesRest = [callable];\n      return true;\n    }\n    this._contextsRest.push(context);\n    this._callablesRest.push(callable);\n    return true;\n  }\n\n  protected removeSubscriber(context: string, callable: ICallable) {\n    if (this._context0 === context && this._callable0 === callable) {\n      this._context0 = null;\n      this._callable0 = null;\n      return true;\n    }\n    if (this._context1 === context && this._callable1 === callable) {\n      this._context1 = null;\n      this._callable1 = null;\n      return true;\n    }\n    if (this._context2 === context && this._callable2 === callable) {\n      this._context2 = null;\n      this._callable2 = null;\n      return true;\n    }\n    const callables = this._callablesRest;\n    if (callables === undefined || callables.length === 0) {\n      return false;\n    }\n    const contexts = this._contextsRest;\n    let i = 0;\n    while (!(callables[i] === callable && contexts[i] === context) && callables.length > i) {\n      i++;\n    }\n    if (i >= callables.length) {\n      return false;\n    }\n    contexts.splice(i, 1);\n    callables.splice(i, 1);\n    return true;\n  }\n\n  protected callSubscribers(newValue: any, oldValue?: any) {\n    let context0 = this._context0;\n    let callable0 = this._callable0;\n    let context1 = this._context1;\n    let callable1 = this._callable1;\n    let context2 = this._context2;\n    let callable2 = this._callable2;\n    let length = this._contextsRest ? this._contextsRest.length : 0;\n    let contextsRest: any[];\n    let callablesRest: ICallable[];\n    let poolIndex;\n    let i;\n    if (length) {\n      // grab temp arrays from the pool.\n      poolIndex = poolUtilization.length;\n      while (poolIndex-- && poolUtilization[poolIndex]) {\n        // Do nothing\n      }\n      if (poolIndex < 0) {\n        poolIndex = poolUtilization.length;\n        contextsRest = [];\n        callablesRest = [];\n        poolUtilization.push(true);\n        arrayPool1.push(contextsRest);\n        arrayPool2.push(callablesRest);\n      } else {\n        poolUtilization[poolIndex] = true;\n        contextsRest = arrayPool1[poolIndex];\n        callablesRest = arrayPool2[poolIndex];\n      }\n      // copy the contents of the \"rest\" arrays.\n      i = length;\n      while (i--) {\n        contextsRest[i] = this._contextsRest[i];\n        callablesRest[i] = this._callablesRest[i];\n      }\n    }\n\n    if (context0) {\n      if (callable0) {\n        callable0.call(context0, newValue, oldValue);\n      } else {\n        context0(newValue, oldValue);\n      }\n    }\n    if (context1) {\n      if (callable1) {\n        callable1.call(context1, newValue, oldValue);\n      } else {\n        context1(newValue, oldValue);\n      }\n    }\n    if (context2) {\n      if (callable2) {\n        callable2.call(context2, newValue, oldValue);\n      } else {\n        context2(newValue, oldValue);\n      }\n    }\n    if (length) {\n      for (i = 0; i < length; i++) {\n        let callable = callablesRest[i];\n        let context = contextsRest[i];\n        if (callable) {\n          callable.call(context, newValue, oldValue);\n        } else {\n          context(newValue, oldValue);\n        }\n        contextsRest[i] = null;\n        callablesRest[i] = null;\n      }\n      poolUtilization[poolIndex] = false;\n    }\n  }\n\n  protected hasSubscribers() {\n    return !!(\n      this._context0\n      || this._context1\n      || this._context2\n      || this._contextsRest && this._contextsRest.length);\n  }\n\n  protected hasSubscriber(context: string, callable: ICallable) {\n    let has = this._context0 === context && this._callable0 === callable\n      || this._context1 === context && this._callable1 === callable\n      || this._context2 === context && this._callable2 === callable;\n    if (has) {\n      return true;\n    }\n    let index;\n    let contexts = this._contextsRest;\n    if (!contexts || (index = contexts.length) === 0) { // eslint-disable-line no-cond-assign\n      return false;\n    }\n    let callables = this._callablesRest;\n    while (index--) {\n      if (contexts[index] === context && callables[index] === callable) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","export class SVGAnalyzer {\n  public static instance = new SVGAnalyzer();\n\n  //stub - should only include real code if SVG is used by the app\n  isStandardSvgAttribute(nodeName: string, attributeName: string) {\n    return false;\n  }\n}\n","import { IfCore } from \"./if-core\";\nimport { Scope } from \"../binding/binding-interfaces\";\nimport { If } from \"./if\";\n\nexport class Else extends IfCore {\n  private ifBehavior: If;\n\n  bind(scope: Scope) {\n    super.bind(scope);\n\n    if (this.ifBehavior.condition) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  link(ifBehavior: If) {\n    if (this.ifBehavior === ifBehavior) {\n      return this;\n    }\n\n    this.ifBehavior = ifBehavior;\n    ifBehavior.link(this);\n\n    return this;\n  }\n}\n","import { ViewSlot } from '../templating/view-slot';\nimport { Scope } from '../binding/binding-interfaces';\nimport { IVisual } from '../templating/visual';\n\n/**\n* For internal use only. May change without warning.\n*/\nexport abstract class IfCore {\n  private visual: IVisual = null;\n  private scope: Scope = null;\n\n  // If the child view is animated, `value` might not reflect the internal\n  // state anymore, so we use `showing` for that.\n  // Eventually, `showing` and `value` should be consistent.\n  protected showing = false;\n  protected isBound = false;\n\n  constructor(private createVisual: () => IVisual, protected viewSlot: ViewSlot) { }\n\n  bind(scope: Scope) {\n    this.scope = scope;\n    this.isBound = true;\n  }\n\n  attach() {\n    this.viewSlot.attach();\n  }\n\n  detach() {\n    this.viewSlot.detach();\n  }\n\n  unbind() {\n    this.isBound = false;\n\n    if (this.visual === null) {\n      return;\n    }\n\n    this.visual.unbind();\n\n    if (this.showing) {\n      this.showing = false;\n      this.viewSlot.remove(this.visual, /*skipAnimation:*/true);\n    }\n\n    this.visual = null;\n  }\n\n  show() {\n    if (this.showing) {\n      // Ensures the view is bound.\n      // It might not be the case when the if was unbound but not detached, then rebound.\n      // Typical case where this happens is nested ifs\n      if (!this.visual.isBound) {\n        this.visual.bind(this.scope);\n      }\n\n      return;\n    }\n\n    if (this.visual === null) {\n      this.visual = this.createVisual();\n    }\n\n    if (!this.visual.isBound) {\n      this.visual.bind(this.scope);\n    }\n\n    this.showing = true;\n    return this.viewSlot.add(this.visual); // Promise or void\n  }\n\n  hide() {\n    if (!this.showing) {\n      return;\n    }\n\n    this.showing = false;\n    let removed = this.viewSlot.remove(this.visual); // Promise or View\n\n    if (removed instanceof Promise) {\n      return removed.then(() => this.visual.unbind());\n    }\n\n    this.visual.unbind();\n  }\n}\n","import { IfCore } from \"./if-core\";\nimport { Scope } from \"../binding/binding-interfaces\";\nimport { Else } from \"./else\";\nimport { Observer } from \"../binding/property-observation\";\n\nexport class If extends IfCore {\n  private animating = false;\n  private elseBehavior: Else;\n\n  $observers = {\n    condition: new Observer(false, v => this.isBound ? this.conditionChanged(v) : void 0)\n  };\n\n  get condition() { return this.$observers.condition.getValue(); }\n  set condition(value: boolean) { this.$observers.condition.setValue(value); }\n\n  swapOrder: 'before' | 'with' | 'after';\n\n  bind(scope: Scope) {\n    super.bind(scope);\n    this.conditionChanged(this.condition);\n  }\n\n  /**\n  * Invoked every time value property changes.\n  * @param newValue The new value\n  */\n  conditionChanged(newValue) {\n    this.update(newValue);\n  }\n\n  link(elseBehavior: Else) {\n    if (this.elseBehavior === elseBehavior) {\n      return this;\n    }\n\n    this.elseBehavior = elseBehavior;\n    elseBehavior.link(this);\n\n    return this;\n  }\n\n  private update(show) {\n    if (this.animating) {\n      return;\n    }\n\n    let promise;\n\n    if (this.elseBehavior) {\n      promise = show ? this.swap(this.elseBehavior, this) : this.swap(this, this.elseBehavior);\n    } else {\n      promise = show ? this.show() : this.hide();\n    }\n\n    if (promise) {\n      this.animating = true;\n\n      promise.then(() => {\n        this.animating = false;\n\n        if (this.condition !== this.showing) {\n          this.update(this.condition);\n        }\n      });\n    }\n  }\n\n  private swap(remove: IfCore, add: IfCore) {\n    switch (this.swapOrder) {\n      case 'before':\n        return Promise.resolve(add.show()).then(() => remove.hide());\n      case 'with':\n        return Promise.all([remove.hide(), add.show()]);\n      default:  // \"after\", default and unknown values\n        let promise = remove.hide();\n        return promise ? promise.then(() => add.show()) : add.show();\n    }\n  }\n}\n","/**\r\n * An abstract class representing a mechanism for animating the DOM during various DOM state transitions.\r\n */\r\nexport class Animator {\r\n  static instance = new Animator();\r\n\r\n  /**\r\n   * Execute an 'enter' animation on an element\r\n   * @param element Element to animate\r\n   * @returns Resolved when the animation is done\r\n   */\r\n  enter(element: HTMLElement): Promise<boolean> {\r\n    return Promise.resolve(false);\r\n  }\r\n\r\n  /**\r\n   * Execute a 'leave' animation on an element\r\n   * @param element Element to animate\r\n   * @returns Resolved when the animation is done\r\n   */\r\n  leave(element: HTMLElement): Promise<boolean> {\r\n    return Promise.resolve(false);\r\n  }\r\n\r\n  /**\r\n   * Add a class to an element to trigger an animation.\r\n   * @param element Element to animate\r\n   * @param className Properties to animate or name of the effect to use\r\n   * @returns Resolved when the animation is done\r\n   */\r\n  removeClass(element: HTMLElement, className: string): Promise<boolean> {\r\n    element.classList.remove(className);\r\n    return Promise.resolve(false);\r\n  }\r\n\r\n  /**\r\n   * Add a class to an element to trigger an animation.\r\n   * @param element Element to animate\r\n   * @param className Properties to animate or name of the effect to use\r\n   * @returns Resolved when the animation is done\r\n   */\r\n  addClass(element: HTMLElement, className: string): Promise<boolean> {\r\n    element.classList.add(className);\r\n    return Promise.resolve(false);\r\n  }\r\n\r\n  /**\r\n   * Execute a single animation.\r\n   * @param element Element to animate\r\n   * @param className Properties to animate or name of the effect to use. For css animators this represents the className to be added and removed right after the animation is done.\r\n   * @param options options for the animation (duration, easing, ...)\r\n   * @returns Resolved when the animation is done\r\n   */\r\n  animate(element: HTMLElement | Array<HTMLElement>, className: string): Promise<boolean> {\r\n    return Promise.resolve(false);\r\n  }\r\n\r\n  /**\r\n   * Run a sequence of animations one after the other.\r\n   * for example: animator.runSequence(\"fadeIn\",\"callout\")\r\n   * @param sequence An array of effectNames or classNames\r\n   * @returns Resolved when all animations are done\r\n   */\r\n  runSequence(animations:Array<any>): Promise<boolean> {\r\n    return Promise.resolve(true);\r\n  }\r\n\r\n  /**\r\n   * Register an effect (for JS based animators)\r\n   * @param effectName identifier of the effect\r\n   * @param properties Object with properties for the effect\r\n   */\r\n  registerEffect(effectName: string, properties: Object): void {}\r\n\r\n  /**\r\n   * Unregister an effect (for JS based animators)\r\n   * @param effectName identifier of the effect\r\n   */\r\n  unregisterEffect(effectName: string): void {}\r\n}\r\n",null,"import {DOM} from '../dom';\r\nimport {_isAllWhitespace} from '../util';\r\n\r\nlet noNodes = Object.freeze([]);\r\n\r\nexport class SlotCustomAttribute {\r\n  constructor(private element: Node) {\r\n    this.element = element;\r\n    this.element['auSlotAttribute'] = this;\r\n  }\r\n\r\n  valueChanged(newValue, oldValue) {\r\n    //console.log('au-slot', newValue);\r\n  }\r\n}\r\n\r\nexport class PassThroughSlot {\r\n  projections = 0;\r\n  contentView = null;\r\n  destinationSlot = null;\r\n  ownerView;\r\n\r\n  constructor(private anchor: Node, private name: string, private destinationName: string, private fallbackFactory) {\r\n    this.anchor['viewSlot'] = this;\r\n    let attr = new SlotCustomAttribute(this.anchor);\r\n    attr['value'] = this.destinationName;\r\n  }\r\n\r\n  get needsFallbackRendering() {\r\n    return this.fallbackFactory && this.projections === 0;\r\n  }\r\n\r\n  renderFallbackContent(view, nodes, projectionSource, index = 0) {\r\n    if (this.contentView === null) {\r\n      this.contentView = this.fallbackFactory.create(this.ownerView.container);\r\n      this.contentView.bind(this.ownerView.bindingContext, this.ownerView.overrideContext);\r\n\r\n      let slots = Object.create(null);\r\n      slots[this.destinationSlot.name] = this.destinationSlot;\r\n\r\n      ShadowDOM.distributeView(this.contentView, slots, projectionSource, index, this.destinationSlot.name);\r\n    }\r\n  }\r\n\r\n  passThroughTo(destinationSlot) {\r\n    this.destinationSlot = destinationSlot;\r\n  }\r\n\r\n  addNode(view, node, projectionSource, index) {\r\n    if (this.contentView !== null) {\r\n      this.contentView.removeNodes();\r\n      this.contentView.detached();\r\n      this.contentView.unbind();\r\n      this.contentView = null;\r\n    }\r\n\r\n    if (node.viewSlot instanceof PassThroughSlot) {\r\n      node.viewSlot.passThroughTo(this);\r\n      return;\r\n    }\r\n\r\n    this.projections++;\r\n    this.destinationSlot.addNode(view, node, projectionSource, index);\r\n  }\r\n\r\n  removeView(view, projectionSource) {\r\n    this.projections--;\r\n    this.destinationSlot.removeView(view, projectionSource);\r\n\r\n    if (this.needsFallbackRendering) {\r\n      this.renderFallbackContent(null, noNodes, projectionSource);\r\n    }\r\n  }\r\n\r\n  removeAll(projectionSource) {\r\n    this.projections = 0;\r\n    this.destinationSlot.removeAll(projectionSource);\r\n\r\n    if (this.needsFallbackRendering) {\r\n      this.renderFallbackContent(null, noNodes, projectionSource);\r\n    }\r\n  }\r\n\r\n  projectFrom(view, projectionSource) {\r\n    this.destinationSlot.projectFrom(view, projectionSource);\r\n  }\r\n\r\n  created(ownerView) {\r\n    this.ownerView = ownerView;\r\n  }\r\n\r\n  bind(view) {\r\n    if (this.contentView) {\r\n      this.contentView.bind(view.bindingContext, view.overrideContext);\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    if (this.contentView) {\r\n      this.contentView.attached();\r\n    }\r\n  }\r\n\r\n  detached() {\r\n    if (this.contentView) {\r\n      this.contentView.detached();\r\n    }\r\n  }\r\n\r\n  unbind() {\r\n    if (this.contentView) {\r\n      this.contentView.unbind();\r\n    }\r\n  }\r\n}\r\n\r\nexport class ShadowSlot {\r\n  contentView = null;\r\n  projections = 0;\r\n  children = [];\r\n  projectFromAnchors = null;\r\n  destinationSlots = null;\r\n  ownerView;\r\n  fallbackSlots;\r\n\r\n  constructor(private anchor: Node, private name: string, private fallbackFactory) {\r\n    this.anchor['isContentProjectionSource'] = true;\r\n    this.anchor['viewSlot'] = this;\r\n  }\r\n\r\n  get needsFallbackRendering() {\r\n    return this.fallbackFactory && this.projections === 0;\r\n  }\r\n\r\n  addNode(view, node, projectionSource, index, destination) {\r\n    if (this.contentView !== null) {\r\n      this.contentView.removeNodes();\r\n      this.contentView.detached();\r\n      this.contentView.unbind();\r\n      this.contentView = null;\r\n    }\r\n\r\n    if (node.viewSlot instanceof PassThroughSlot) {\r\n      node.viewSlot.passThroughTo(this);\r\n      return;\r\n    }\r\n\r\n    if (this.destinationSlots !== null) {\r\n      ShadowDOM.distributeNodes(view, [node], this.destinationSlots, this, index);\r\n    } else {\r\n      node.auOwnerView = view;\r\n      node.auProjectionSource = projectionSource;\r\n      node.auAssignedSlot = this;\r\n\r\n      let anchor = this._findAnchor(view, node, projectionSource, index);\r\n      let parent = anchor.parentNode;\r\n\r\n      parent.insertBefore(node, anchor);\r\n      this.children.push(node);\r\n      this.projections++;\r\n    }\r\n  }\r\n\r\n  removeView(view, projectionSource) {\r\n    if (this.destinationSlots !== null) {\r\n      ShadowDOM.undistributeView(view, this.destinationSlots, this);\r\n    } else if (this.contentView && this.contentView.hasSlots) {\r\n      ShadowDOM.undistributeView(view, this.contentView.slots, projectionSource);\r\n    } else {\r\n      let found = this.children.find(x => x.auSlotProjectFrom === projectionSource);\r\n      if (found) {\r\n        let children = found.auProjectionChildren;\r\n\r\n        for (let i = 0, ii = children.length; i < ii; ++i) {\r\n          let child = children[i];\r\n\r\n          if (child.auOwnerView === view) {\r\n            children.splice(i, 1);\r\n            view.fragment.appendChild(child);\r\n            i--; ii--;\r\n            this.projections--;\r\n          }\r\n        }\r\n\r\n        if (this.needsFallbackRendering) {\r\n          this.renderFallbackContent(view, noNodes, projectionSource);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeAll(projectionSource) {\r\n    if (this.destinationSlots !== null) {\r\n      ShadowDOM.undistributeAll(this.destinationSlots, this);\r\n    } else if (this.contentView && this.contentView.hasSlots) {\r\n      ShadowDOM.undistributeAll(this.contentView.slots, projectionSource);\r\n    } else {\r\n      let found = this.children.find(x => x.auSlotProjectFrom === projectionSource);\r\n\r\n      if (found) {\r\n        let children = found.auProjectionChildren;\r\n        for (let i = 0, ii = children.length; i < ii; ++i) {\r\n          let child = children[i];\r\n          child.auOwnerView.fragment.appendChild(child);\r\n          this.projections--;\r\n        }\r\n\r\n        found.auProjectionChildren = [];\r\n\r\n        if (this.needsFallbackRendering) {\r\n          this.renderFallbackContent(null, noNodes, projectionSource);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _findAnchor(view, node, projectionSource, index) {\r\n    if (projectionSource) {\r\n      //find the anchor associated with the projected view slot\r\n      let found = this.children.find(x => x.auSlotProjectFrom === projectionSource);\r\n      if (found) {\r\n        if (index !== undefined) {\r\n          let children = found.auProjectionChildren;\r\n          let viewIndex = -1;\r\n          let lastView;\r\n\r\n          for (let i = 0, ii = children.length; i < ii; ++i) {\r\n            let current = children[i];\r\n\r\n            if (current.auOwnerView !== lastView) {\r\n              viewIndex++;\r\n              lastView = current.auOwnerView;\r\n\r\n              if (viewIndex >= index && lastView !== view) {\r\n                children.splice(i, 0, node);\r\n                return current;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        found.auProjectionChildren.push(node);\r\n        return found;\r\n      }\r\n    }\r\n\r\n    return this.anchor;\r\n  }\r\n\r\n  projectTo(slots) {\r\n    this.destinationSlots = slots;\r\n  }\r\n\r\n  projectFrom(view, projectionSource) {\r\n    let anchor = DOM.createComment('anchor');\r\n    let parent = this.anchor.parentNode;\r\n    anchor['auSlotProjectFrom'] = projectionSource;\r\n    anchor['auOwnerView'] = view;\r\n    anchor['auProjectionChildren'] = [];\r\n    parent.insertBefore(anchor, this.anchor);\r\n    this.children.push(anchor);\r\n\r\n    if (this.projectFromAnchors === null) {\r\n      this.projectFromAnchors = [];\r\n    }\r\n\r\n    this.projectFromAnchors.push(anchor);\r\n  }\r\n\r\n  renderFallbackContent(view, nodes, projectionSource, index = 0) {\r\n    if (this.contentView === null) {\r\n      this.contentView = this.fallbackFactory.create(this.ownerView.container);\r\n      this.contentView.bind(this.ownerView.bindingContext, this.ownerView.overrideContext);\r\n      this.contentView.insertNodesBefore(this.anchor);\r\n    }\r\n\r\n    if (this.contentView.hasSlots) {\r\n      let slots = this.contentView.slots;\r\n      let projectFromAnchors = this.projectFromAnchors;\r\n\r\n      if (projectFromAnchors !== null) {\r\n        for (let slotName in slots) {\r\n          let slot = slots[slotName];\r\n\r\n          for (let i = 0, ii = projectFromAnchors.length; i < ii; ++i) {\r\n            let anchor = projectFromAnchors[i];\r\n            slot.projectFrom(anchor.auOwnerView, anchor.auSlotProjectFrom);\r\n          }\r\n        }\r\n      }\r\n\r\n      this.fallbackSlots = slots;\r\n      ShadowDOM.distributeNodes(view, nodes, slots, projectionSource, index);\r\n    }\r\n  }\r\n\r\n  created(ownerView) {\r\n    this.ownerView = ownerView;\r\n  }\r\n\r\n  bind(view) {\r\n    if (this.contentView) {\r\n      this.contentView.bind(view.bindingContext, view.overrideContext);\r\n    }\r\n  }\r\n\r\n  attached() {\r\n    if (this.contentView) {\r\n      this.contentView.attached();\r\n    }\r\n  }\r\n\r\n  detached() {\r\n    if (this.contentView) {\r\n      this.contentView.detached();\r\n    }\r\n  }\r\n\r\n  unbind() {\r\n    if (this.contentView) {\r\n      this.contentView.unbind();\r\n    }\r\n  }\r\n}\r\n\r\nexport class ShadowDOM {\r\n  static defaultSlotKey = '__au-default-slot-key__';\r\n\r\n  static getSlotName(node) {\r\n    if (node.auSlotAttribute === undefined) {\r\n      return ShadowDOM.defaultSlotKey;\r\n    }\r\n\r\n    return node.auSlotAttribute.value;\r\n  }\r\n\r\n  static distributeView(view, slots, projectionSource, index = 0, destinationOverride = null) {\r\n    let nodes;\r\n\r\n    if (view === null) {\r\n      nodes = noNodes;\r\n    } else {\r\n      let childNodes = view.fragment.childNodes;\r\n      let ii = childNodes.length;\r\n      nodes = new Array(ii);\r\n\r\n      for (let i = 0; i < ii; ++i) {\r\n        nodes[i] = childNodes[i];\r\n      }\r\n    }\r\n\r\n    ShadowDOM.distributeNodes(\r\n      view,\r\n      nodes,\r\n      slots,\r\n      projectionSource,\r\n      index,\r\n      destinationOverride\r\n    );\r\n  }\r\n\r\n  static undistributeView(view, slots, projectionSource) {\r\n    for (let slotName in slots) {\r\n      slots[slotName].removeView(view, projectionSource);\r\n    }\r\n  }\r\n\r\n  static undistributeAll(slots, projectionSource) {\r\n    for (let slotName in slots) {\r\n      slots[slotName].removeAll(projectionSource);\r\n    }\r\n  }\r\n\r\n  static distributeNodes(view, nodes, slots, projectionSource, index, destinationOverride = null) {\r\n    for (let i = 0, ii = nodes.length; i < ii; ++i) {\r\n      let currentNode = nodes[i];\r\n      let nodeType = currentNode.nodeType;\r\n\r\n      if (currentNode.isContentProjectionSource) {\r\n        currentNode.viewSlot.projectTo(slots);\r\n\r\n        for (let slotName in slots) {\r\n          slots[slotName].projectFrom(view, currentNode.viewSlot);\r\n        }\r\n\r\n        nodes.splice(i, 1);\r\n        ii--; i--;\r\n      } else if (nodeType === 1 || nodeType === 3 || currentNode.viewSlot instanceof PassThroughSlot) { //project only elements and text\r\n        if (nodeType === 3 && _isAllWhitespace(currentNode)) {\r\n          nodes.splice(i, 1);\r\n          ii--; i--;\r\n        } else {\r\n          let found = slots[destinationOverride || ShadowDOM.getSlotName(currentNode)];\r\n\r\n          if (found) {\r\n            found.addNode(view, currentNode, projectionSource, index);\r\n            nodes.splice(i, 1);\r\n            ii--; i--;\r\n          }\r\n        }\r\n      } else {\r\n        nodes.splice(i, 1);\r\n        ii--; i--;\r\n      }\r\n    }\r\n\r\n    for (let slotName in slots) {\r\n      let slot = slots[slotName];\r\n\r\n      if (slot.needsFallbackRendering) {\r\n        slot.renderFallbackContent(view, nodes, projectionSource, index);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { DOM } from \"../dom\";\r\nimport { View } from \"./view\";\r\n\r\nexport class Template {\r\n  element: HTMLTemplateElement;\r\n\r\n  constructor(html) {\r\n    this.element = DOM.createTemplateElement();\r\n    this.element.innerHTML = html;\r\n  }\r\n\r\n  create() {\r\n    return new View(this.element);\r\n  }\r\n}\r\n","import { Animator } from './animator';\nimport { View } from './view';\nimport { ShadowDOM } from './shadow-dom';\nimport { IAttach } from './component';\nimport { Scope, IBindScope } from '../binding/binding-interfaces';\nimport { IVisual } from './visual';\n\nfunction getAnimatableElement(visual: IVisual) {\n  let view = visual.$view;\n\n  if (view['$animatableElement'] !== undefined) {\n    return view['$animatableElement'];\n  }\n\n  let current = view.firstChild;\n\n  while (current && current.nodeType !== 1) {\n    current = current.nextSibling;\n  }\n\n  if (current && current.nodeType === 1) {\n    return (view['$animatableElement'] = (<HTMLElement>current).classList.contains('au-animate') ? current : null);\n  }\n\n  return (view['$animatableElement'] = null);\n}\n\n/**\n* Represents a slot or location within the DOM to which views can be added and removed.\n* Manages the view lifecycle for its children.\n*/\nexport class ViewSlot implements IBindScope, IAttach {\n  private scope: Scope;\n  private children: IVisual[] = [];\n  private isBound = false;\n  private isAttached = false;\n  private contentSelectors = null;\n  private projectToSlots;\n\n  /**\n  * Creates an instance of ViewSlot.\n  * @param anchor The DOM node which will server as the anchor or container for insertion.\n  * @param anchorIsContainer Indicates whether the node is a container.\n  * @param animator The animator that will controll enter/leave transitions for this slot.\n  */\n  constructor(public anchor: Node, private anchorIsContainer: boolean, private animator: Animator = Animator.instance) {\n    anchor['viewSlot'] = this;\n    anchor['isContentProjectionSource'] = false;\n  }\n\n  /**\n   *   Runs the animator against the first animatable element found within the view's fragment\n   *   @param  visual The view to use when searching for the element.\n   *   @param  direction The animation direction enter|leave.\n   *   @returns An animation complete Promise or undefined if no animation was run.\n   */\n  animateView(visual: IVisual, direction: string = 'enter'): void | Promise<boolean> {\n    let animatableElement = getAnimatableElement(visual);\n\n    if (animatableElement !== null) {\n      switch (direction) {\n        case 'enter':\n          return this.animator.enter(animatableElement);\n        case 'leave':\n          return this.animator.leave(animatableElement);\n        default:\n          throw new Error('Invalid animation direction: ' + direction);\n      }\n    }\n  }\n\n  /**\n  * Binds the slot and it's children.\n  */\n  bind(scope: Scope): void {\n    if (this.isBound) {\n      if (this.scope === scope) {\n        return;\n      }\n\n      this.unbind();\n    }\n\n    this.isBound = true;\n    this.scope = scope = scope || this.scope;\n\n    let children = this.children;\n\n    for (let i = 0, ii = children.length; i < ii; ++i) {\n      children[i].bind(scope);\n    }\n  }\n\n  /**\n  * Unbinds the slot and its children.\n  */\n  unbind(): void {\n    if (this.isBound) {\n      this.isBound = false;\n      this.scope = null;\n\n      let children = this.children;\n\n      for (let i = 0, ii = children.length; i < ii; ++i) {\n        children[i].unbind();\n      }\n    }\n  }\n\n  /**\n  * Adds a view to the slot.\n  * @param visual The view to add.\n  * @return May return a promise if the view addition triggered an animation.\n  */\n  add(visual: IVisual): void | Promise<any> {\n    if (this.anchorIsContainer) {\n      visual.$view.appendTo(<Element>this.anchor);\n    } else {\n      visual.$view.insertBefore(this.anchor);\n    }\n\n    this.children.push(visual);\n\n    if (this.isAttached) {\n      visual.attach();\n      return this.animateView(visual, 'enter');\n    }\n  }\n\n  /**\n  * Inserts a view into the slot.\n  * @param index The index to insert the view at.\n  * @param visual The view to insert.\n  * @return May return a promise if the view insertion triggered an animation.\n  */\n  insert(index: number, visual: IVisual): void | Promise<any> {\n    let children = this.children;\n    let length = children.length;\n\n    if ((index === 0 && length === 0) || index >= length) {\n      return this.add(visual);\n    }\n\n    visual.$view.insertBefore(children[index].$view.firstChild);\n    children.splice(index, 0, visual);\n\n    if (this.isAttached) {\n      visual.attach();\n      return this.animateView(visual, 'enter');\n    }\n  }\n\n  /**\n   * Moves a view across the slot.\n   * @param sourceIndex The index the view is currently at.\n   * @param targetIndex The index to insert the view at.\n   */\n  move(sourceIndex, targetIndex) {\n    if (sourceIndex === targetIndex) {\n      return;\n    }\n\n    const children = this.children;\n    const component = children[sourceIndex]\n    const view = component.$view;\n\n    view.remove();\n    view.insertBefore(children[targetIndex].$view.firstChild);\n    children.splice(sourceIndex, 1);\n    children.splice(targetIndex, 0, component);\n  }\n\n  /**\n  * Removes a view from the slot.\n  * @param visual The view to remove.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removal triggered an animation.\n  */\n  remove(visual: IVisual, skipAnimation?: boolean): IVisual | Promise<IVisual> {\n    return this.removeAt(this.children.indexOf(visual), skipAnimation);\n  }\n\n  /**\n  * Removes many views from the slot.\n  * @param visualsToRemove The array of views to remove.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removal triggered an animation.\n  */\n  removeMany(visualsToRemove: IVisual[], skipAnimation?: boolean): void | IVisual[] | Promise<IVisual[]> {\n    const children = this.children;\n    let ii = visualsToRemove.length;\n    let i;\n    let rmPromises = [];\n\n    visualsToRemove.forEach(child => {\n      let view = child.$view;\n\n      if (skipAnimation) {\n        view.remove();\n        return;\n      }\n\n      let animation = this.animateView(child, 'leave');\n\n      if (animation) {\n        rmPromises.push(animation.then(() => view.remove()));\n      } else {\n        view.remove();\n      }\n    });\n\n    let removeAction = () => {\n      if (this.isAttached) {\n        for (i = 0; i < ii; ++i) {\n          visualsToRemove[i].detach();\n        }\n      }\n\n      for (i = 0; i < ii; ++i) {\n        const index = children.indexOf(visualsToRemove[i]);\n        if (index >= 0) {\n          children.splice(index, 1);\n        }\n      }\n\n      return visualsToRemove;\n    };\n\n    if (rmPromises.length > 0) {\n      return Promise.all(rmPromises).then(() => removeAction());\n    }\n\n    return removeAction();\n  }\n\n  /**\n  * Removes a view an a specified index from the slot.\n  * @param index The index to remove the view at.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removal triggered an animation.\n  */\n  removeAt(index: number, skipAnimation?: boolean): IVisual | Promise<IVisual> {\n    let visual = this.children[index];\n\n    let removeAction = () => {\n      index = this.children.indexOf(visual);\n      visual.$view.remove();\n      this.children.splice(index, 1);\n\n      if (this.isAttached) {\n        visual.detach();\n      }\n\n      return visual;\n    };\n\n    if (!skipAnimation) {\n      let animation = this.animateView(visual, 'leave');\n      if (animation) {\n        return animation.then(() => removeAction());\n      }\n    }\n\n    return removeAction();\n  }\n\n  /**\n  * Removes all views from the slot.\n  * @param skipAnimation Should the removal animation be skipped?\n  * @return May return a promise if the view removals triggered an animation.\n  */\n  removeAll(skipAnimation?: boolean): void | Promise<any> {\n    let children = this.children;\n    let ii = children.length;\n    let i;\n    let rmPromises = [];\n\n    children.forEach(child => {\n      const view = child.$view;\n\n      if (skipAnimation) {\n        view.remove();\n        return;\n      }\n\n      let animation = this.animateView(child, 'leave');\n      if (animation) {\n        rmPromises.push(animation.then(() => view.remove()));\n      } else {\n        view.remove();\n      }\n    });\n\n    let removeAction = () => {\n      if (this.isAttached) {\n        for (i = 0; i < ii; ++i) {\n          children[i].detach();\n        }\n      }\n\n      this.children = [];\n    };\n\n    if (rmPromises.length > 0) {\n      return Promise.all(rmPromises).then(() => removeAction());\n    }\n\n    return removeAction();\n  }\n\n  /**\n  * Triggers the attach for the slot and its children.\n  */\n  attach(): void {\n    if (this.isAttached) {\n      return;\n    }\n\n    this.isAttached = true;\n\n    let children = this.children;\n    for (let i = 0, ii = children.length; i < ii; ++i) {\n      let child = children[i];\n      child.attach();\n      this.animateView(child, 'enter');\n    }\n  }\n\n  /**\n  * Triggers the detach for the slot and its children.\n  */\n  detach(): void {\n    if (this.isAttached) {\n      this.isAttached = false;\n\n      let children = this.children;\n      for (let i = 0, ii = children.length; i < ii; ++i) {\n        children[i].detach();\n      }\n    }\n  }\n\n  projectTo(slots: Object): void {\n    this.projectToSlots = slots;\n    this.add = this._projectionAdd;\n    this.insert = this._projectionInsert;\n    this.move = this._projectionMove;\n    this.remove = this._projectionRemove;\n    this.removeAt = this._projectionRemoveAt;\n    this.removeMany = this._projectionRemoveMany;\n    this.removeAll = this._projectionRemoveAll;\n    this.children.forEach(view => ShadowDOM.distributeView(view, slots, this));\n  }\n\n  _projectionAdd(view) {\n    ShadowDOM.distributeView(view, this.projectToSlots, this);\n\n    this.children.push(view);\n\n    if (this.isAttached) {\n      view.attached();\n    }\n  }\n\n  _projectionInsert(index, view) {\n    if ((index === 0 && !this.children.length) || index >= this.children.length) {\n      this.add(view);\n    } else {\n      ShadowDOM.distributeView(view, this.projectToSlots, this, index);\n\n      this.children.splice(index, 0, view);\n\n      if (this.isAttached) {\n        view.attached();\n      }\n    }\n  }\n\n  _projectionMove(sourceIndex, targetIndex) {\n    if (sourceIndex === targetIndex) {\n      return;\n    }\n\n    const children = this.children;\n    const view = children[sourceIndex];\n\n    ShadowDOM.undistributeView(view, this.projectToSlots, this);\n    ShadowDOM.distributeView(view, this.projectToSlots, this, targetIndex);\n\n    children.splice(sourceIndex, 1);\n    children.splice(targetIndex, 0, view);\n  }\n\n  _projectionRemove(view) {\n    ShadowDOM.undistributeView(view, this.projectToSlots, this);\n    this.children.splice(this.children.indexOf(view), 1);\n\n    if (this.isAttached) {\n      view.detached();\n    }\n\n    return view;\n  }\n\n  _projectionRemoveAt(index: number, skipAnimation?: boolean) {\n    let view = this.children[index];\n\n    ShadowDOM.undistributeView(view, this.projectToSlots, this);\n    this.children.splice(index, 1);\n\n    if (this.isAttached) {\n      view.detach();\n    }\n\n    return view;\n  }\n\n  _projectionRemoveMany(viewsToRemove, skipAnimation) {\n    viewsToRemove.forEach(view => this.remove(view));\n  }\n\n  _projectionRemoveAll() {\n    ShadowDOM.undistributeAll(this.projectToSlots, this);\n\n    let children = this.children;\n\n    if (this.isAttached) {\n      for (let i = 0, ii = children.length; i < ii; ++i) {\n        children[i].detach();\n      }\n    }\n\n    this.children = [];\n  }\n}\n","export interface IView {\r\n  firstChild: Node;\r\n  lastChild: Node;\r\n\r\n  insertBefore(refNode: Node): void;\r\n  appendTo(parent: Element): void;\r\n  remove(): void;\r\n}\r\n\r\nexport interface IRender {\r\n  $view: IView;\r\n}\r\n\r\nexport class View implements IView {\r\n  private fragment: DocumentFragment;\r\n  targets: NodeListOf<Element>;\r\n  firstChild: Node;\r\n  lastChild: Node;\r\n\r\n  constructor(template: HTMLTemplateElement) {\r\n    let clone = <HTMLTemplateElement>template.cloneNode(true);\r\n\r\n    this.fragment = clone.content;\r\n    this.targets = this.fragment.querySelectorAll('.au');\r\n    this.firstChild = this.fragment.firstChild;\r\n    this.lastChild = this.fragment.lastChild;\r\n  }\r\n\r\n  /**\r\n  * Inserts this view's nodes before the specified DOM node.\r\n  * @param refNode The node to insert this view's nodes before.\r\n  */\r\n  insertBefore(refNode: Node): void {\r\n    refNode.parentNode.insertBefore(this.fragment, refNode);\r\n  }\r\n\r\n  /**\r\n  * Appends this view's to the specified DOM node.\r\n  * @param parent The parent element to append this view's nodes to.\r\n  */\r\n  appendTo(parent: Element): void {\r\n    parent.appendChild(this.fragment);\r\n  }\r\n\r\n  /**\r\n  * Removes this view's nodes from the DOM.\r\n  */\r\n  remove(): void {\r\n    let fragment = this.fragment;\r\n    let current = this.firstChild;\r\n    let end = this.lastChild;\r\n    let next;\r\n\r\n    while (current) {\r\n      next = current.nextSibling;\r\n      fragment.appendChild(current);\r\n\r\n      if (current === end) {\r\n        break;\r\n      }\r\n\r\n      current = next;\r\n    }\r\n  }\r\n}\r\n","import { View, IRender } from \"./view\";\nimport { Template } from \"./template\";\nimport { Scope, IBindScope } from \"../binding/binding-interfaces\";\nimport { IAttach } from \"./component\";\n\nexport interface IVisual extends IBindScope, IAttach, IRender {\n  isBound: boolean;\n}\n\nexport class Visual implements IVisual {\n  $view: View;\n  isBound = false;\n\n  constructor(template: Template) {\n    this.$view = template.create();\n  }\n\n  bind(scope: Scope) {\n    this.isBound = true;\n  }\n\n  unbind() {\n    this.isBound = false;\n  }\n\n  attach() { }\n  detach() { }\n}\n"],"sourceRoot":".."}